CKEDITOR.disableAutoInline=!0,function(){function e(){!function(){"use strict";var e={applyStyle:function(){if(AlloyEditor.Lang.isFunction(this.isActive)&&AlloyEditor.Lang.isFunction(this.getStyle)){var e=this.props.editor.get("nativeEditor");e.getSelection().lock(),this.isActive()?e.removeStyle(this.getStyle()):e.applyStyle(this.getStyle()),e.getSelection().unlock(),e.fire("actionPerformed",this)}}};AlloyEditor.ButtonActionStyle=e}(),function(){"use strict";var e={propTypes:{command:React.PropTypes.string.isRequired,modifiesSelection:React.PropTypes.bool},execCommand:function(e){var t=this.props.editor.get("nativeEditor");t.execCommand(this.props.command,e),this.props.modifiesSelection&&t.selectionChange(!0),t.fire("actionPerformed",this)}};AlloyEditor.ButtonCommand=e}(),function(){"use strict";var e={getStateClasses:function(){var e="";return AlloyEditor.Lang.isFunction(this.isActive)&&this.isActive()&&(e+="alloy-editor-button-pressed"),AlloyEditor.Lang.isFunction(this.isDisabled)&&this.isDisabled()&&(e+=" alloy-editor-button-disabled"),e}};AlloyEditor.ButtonStateClasses=e}(),function(){"use strict";var e={propTypes:{style:React.PropTypes.object},componentWillMount:function(){this._style=new CKEDITOR.style(this.props.style)},componentWillUnmount:function(){this._style=null},getStyle:function(){return this._style},isActive:function(){var e,t=this.props.editor.get("nativeEditor"),o=t.elementPath();return e=this.getStyle().checkActive(o,t)}};AlloyEditor.ButtonStyle=e}(),function(){"use strict";var e={getToolbarButtons:function(e,t){var o={},i=this.filterExclusive(e.filter(function(e){return e&&(AlloyEditor.Buttons[e]||AlloyEditor.Buttons[e.name])}).map(function(e){return AlloyEditor.Lang.isString(e)?e=AlloyEditor.Buttons[e]:AlloyEditor.Lang.isString(e.name)&&(o[AlloyEditor.Buttons[e.name].key]=e.cfg,e=AlloyEditor.Buttons[e.name]),e})).map(function(e){var i=this.mergeExclusiveProps({editor:this.props.editor,key:e.key,tabKey:e.key,tabIndex:this.props.trigger&&this.props.trigger.props.tabKey===e.key?0:-1,trigger:this.props.trigger},e.key);return i=this.mergeDropdownProps(i,e.key),t&&(i=CKEDITOR.tools.merge(i,t,o[e.key])),React.createElement(e,i)},this);return i}};AlloyEditor.ToolbarButtons=e}(),function(){"use strict";var e={getArrowBoxClasses:function(){var e="alloy-editor-arrow-box";return AlloyEditor.Lang.isFunction(this.getInteractionPoint)&&this.getInteractionPoint()&&(e+=this.getInteractionPoint().direction===CKEDITOR.SELECTION_TOP_TO_BOTTOM?" alloy-editor-arrow-box-top":" alloy-editor-arrow-box-bottom"),e}};AlloyEditor.WidgetArrowBox=e}(),function(){"use strict";var e={componentWillReceiveProps:function(e){this.setState({dropdownTrigger:null,itemDropdown:null})},getInitialState:function(){return{dropdownTrigger:null,itemDropdown:null}},mergeDropdownProps:function(e,t){return CKEDITOR.tools.merge(e,{expanded:this.state.itemDropdown===t?!0:!1,tabIndex:this.state.dropdownTrigger===t?0:-1,toggleDropdown:this.toggleDropdown.bind(this,t)})},toggleDropdown:function(e,t){this.setState({dropdownTrigger:e,itemDropdown:e!==this.state.itemDropdown?e:null},function(){this.state.itemDropdown||(this.moveFocus?this.moveFocus(t):React.findDOMNode(this).focus())})}};AlloyEditor.WidgetDropdown=e}(),function(){"use strict";var e={cancelExclusive:function(e){this.state.itemExclusive===e&&this.setState({itemExclusive:null})},componentWillReceiveProps:function(e){this.setState({itemExclusive:null})},filterExclusive:function(e){return e.filter(function(e){return this.state.itemExclusive?this.state.itemExclusive===e.key?e:void 0:e}.bind(this))},mergeExclusiveProps:function(e,t){return CKEDITOR.tools.merge(e,{cancelExclusive:this.cancelExclusive.bind(this,t),renderExclusive:this.state.itemExclusive===t,requestExclusive:this.requestExclusive.bind(this,t)})},requestExclusive:function(e){this.setState({itemExclusive:e})}};AlloyEditor.WidgetExclusive=e}(),function(){"use strict";var e=0,t=1,o=-1,i=0,n=1,r=2,a={propTypes:{onDismiss:React.PropTypes.func,circular:React.PropTypes.bool.isRequired,descendants:React.PropTypes.string.isRequired,keys:React.PropTypes.object.isRequired},componentDidMount:function(){this._refresh()},componentDidUpdate:function(){this._refresh()},focus:function(e){(!e||this._isValidTarget(e.target))&&this._descendants&&(this._descendants[this._activeDescendant].focus(),e&&(e.stopPropagation(),e.preventDefault()))},handleKey:function(e){if(this._isValidTarget(e.target)&&this._descendants){var t=this._getFocusAction(e);t.type&&(e.stopPropagation(),e.preventDefault(),t.type===n&&this._moveFocus(t.direction),t.type===r&&this.props.onDismiss(t.direction))}},moveFocus:function(e){e=AlloyEditor.Lang.isNumber(e)?e:0,this._moveFocus(e)},_getFocusAction:function(e){var t={type:i};if(this.props.keys){var o=this._getFocusMoveDirection(e);o&&(t.direction=o,t.type=n);var a=this._getFocusDismissAction(e,o);a.dismiss&&(t.direction=a.direction,t.type=r)}return t},_getFocusDismissAction:function(e,i){var n={direction:i,dismiss:!1};return this.props.onDismiss&&(this._isValidKey(e.keyCode,this.props.keys.dismiss)&&(n.dismiss=!0),this._isValidKey(e.keyCode,this.props.keys.dismissNext)&&(n.dismiss=!0,n.direction=t),this._isValidKey(e.keyCode,this.props.keys.dismissPrev)&&(n.dismiss=!0,n.direction=o),n.dismiss||this.props.circular||!i||(n.dismiss=i===o&&0===this._activeDescendant||i===t&&this._activeDescendant===this._descendants.length-1)),n},_getFocusMoveDirection:function(i){var n=e;return this._isValidKey(i.keyCode,this.props.keys.next)&&(n=t),this._isValidKey(i.keyCode,this.props.keys.prev)&&(n=o),i.shifKey&&(n*=-1),n},_isValidKey:function(e,t){return AlloyEditor.Lang.isArray(t)?-1!==t.indexOf(e):e===t},_isValidTarget:function(e){var t=e.tagName.toLowerCase();return"input"!==t&&"select"!==t&&"textarea"!==t},_moveFocus:function(e){var t=this._descendants.length,o=this._descendants[this._activeDescendant];o.setAttribute("tabIndex",-1),this._activeDescendant+=e,this._activeDescendant=this.props.circular?(this._activeDescendant%t+t)%t:Math.max(Math.min(this._activeDescendant,t-1),0),o=this._descendants[this._activeDescendant],o.setAttribute("tabIndex",0),o.focus()},_refresh:function(){var e=React.findDOMNode(this);if(e){var t=e.querySelectorAll(this.props.descendants);this._descendants=Array.prototype.map.call(t,function(e){return e}).sort(function(e,t){return AlloyEditor.Lang.toInt(e.getAttribute("data-tabindex"))>AlloyEditor.Lang.toInt(t.getAttribute("data-tabindex"))}),this._activeDescendant=0,this._descendants.some(function(e,t){return"0"===e.getAttribute("tabindex")?(this._activeDescendant=t,this.focus(),!0):void 0}.bind(this))}}};AlloyEditor.WidgetFocusManager=a}(),function(){"use strict";var e={propTypes:{editorEvent:React.PropTypes.object},getInteractionPoint:function(){var e=this.props.editorEvent?this.props.editorEvent.data:null;if(e){var t=e.selectionData,o={x:e.nativeEvent.pageX,y:e.nativeEvent.pageY},i=t.region.direction,n=t.region.endRect,r=t.region.startRect;n&&r&&r.top===n.top&&(i=CKEDITOR.SELECTION_BOTTOM_TO_TOP);var a,s;return o.x&&o.y?(a=this._getXPoint(t,o.x),s=i===CKEDITOR.SELECTION_BOTTOM_TO_TOP?Math.min(o.y,t.region.top):Math.max(o.y,t.region.bottom)):(a=t.region.left+t.region.width/2,s=i===CKEDITOR.SELECTION_TOP_TO_BOTTOM?t.region.bottom:t.region.top),{direction:i,x:a,y:s}}},_getXPoint:function(e,t){var o,i=e.region,n=i.startRect?i.startRect.left:i.left,r=i.endRect?i.endRect.right:i.right;if(t>n&&r>t)o=t;else{var a=Math.abs(n-t),s=Math.abs(r-t);o=s>a?n:r}return o}};AlloyEditor.WidgetInteractionPoint=e}(),function(){"use strict";var e={mixins:[AlloyEditor.WidgetInteractionPoint],propTypes:{gutter:React.PropTypes.object},getDefaultProps:function(){return{gutter:{left:0,top:10}}},cancelAnimation:function(){window.cancelAnimationFrame&&window.cancelAnimationFrame(this._animationFrameId)},getWidgetXYPoint:function(e,t,o){var i=React.findDOMNode(this),n=this.props.gutter;return o===CKEDITOR.SELECTION_TOP_TO_BOTTOM||o===CKEDITOR.SELECTION_BOTTOM_TO_TOP?(e=e-n.left-i.offsetWidth/2,t=o===CKEDITOR.SELECTION_TOP_TO_BOTTOM?t+n.top:t-i.offsetHeight-n.top):(o===CKEDITOR.SELECTION_LEFT_TO_RIGHT||o===CKEDITOR.SELECTION_RIGHT_TO_LEFT)&&(e=o===CKEDITOR.SELECTION_LEFT_TO_RIGHT?e+n.left+i.offsetHeight/2:e-3*i.offsetHeight/2-n.left,t=t-n.top-i.offsetHeight/2),0>e&&(e=0),0>t&&(t=0),[e,t]},isVisible:function(){var e=this.getDOMNode();if(e){var t=new CKEDITOR.dom.element(e);return t.hasClass("alloy-editor-visible")}return!1},moveToPoint:function(e,t){var o=new CKEDITOR.dom.element(this.getDOMNode());o.setStyles({left:e[0]+"px",top:e[1]+"px",opacity:0}),o.removeClass("alloy-editor-invisible"),this._animate(function(){o.addClass("alloy-editor-toolbar-transition alloy-editor-visible"),o.setStyles({left:t[0],top:t[1],opacity:1})})},show:function(){var e=React.findDOMNode(this);if(!this.isVisible()&&e){var t=this.getInteractionPoint();if(t){var o,i,n,r,a=new CKEDITOR.dom.element(e);o=n=a.getStyle("left"),i=r=a.getStyle("top"),r=t.direction===CKEDITOR.SELECTION_TOP_TO_BOTTOM?this.props.selectionData.region.bottom:this.props.selectionData.region.top,this.moveToPoint([n,r],[o,i])}}},updatePosition:function(){var e=this.getInteractionPoint(),t=React.findDOMNode(this);if(e&&t){var o=this.getWidgetXYPoint(e.x,e.y,e.direction),i=new CKEDITOR.dom.element(t);i.setStyles({left:o[0]+"px",top:o[1]+"px"})}},_animate:function(e){window.requestAnimationFrame?this._animationFrameId=window.requestAnimationFrame(e):e()}};AlloyEditor.WidgetPosition=e}(),function(){"use strict";var e=React.createClass({displayName:"ButtonBold",mixins:[AlloyEditor.ButtonStyle,AlloyEditor.ButtonStateClasses,AlloyEditor.ButtonCommand],propTypes:{editor:React.PropTypes.object.isRequired,label:React.PropTypes.string,tabIndex:React.PropTypes.number},statics:{key:"bold"},getDefaultProps:function(){return{command:"bold",label:AlloyEditor.Strings.bold,style:{element:"strong"}}},render:function(){var e="alloy-editor-button "+this.getStateClasses();return React.createElement("button",{"aria-label":this.props.label,"aria-pressed":-1!==e.indexOf("pressed"),className:e,"data-type":"button-bold",onClick:this.execCommand,tabIndex:this.props.tabIndex,title:this.props.label},React.createElement("span",{className:"alloy-editor-icon-bold"}))}});AlloyEditor.Buttons[e.key]=AlloyEditor.ButtonBold=e}(),function(){"use strict";var e=React.createClass({displayName:"ButtonCameraImage",statics:{key:"cameraImage"},getDefaultProps:function(){return{videoWidth:320}},componentDidMount:function(){React.findDOMNode(this.refs.buttonTakePhoto).focus()},componentWillUnmount:function(){this._stream&&(this._stream.stop(),this._stream=null)},render:function(){var e=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return e.call(navigator,{video:!0,audio:!1},this._handleStreamSuccess,this._handleStreamError),React.createElement("div",{className:"alloy-editor-camera"},React.createElement("video",{ref:"videoContainer"},"Video stream not available."),React.createElement("button",{className:"alloy-editor-camera-shoot",onClick:this.takePhoto,ref:"buttonTakePhoto"},"Take photo"),React.createElement("canvas",{className:"alloy-editor-camera-canvas",ref:"canvasContainer"}))},takePhoto:function(){var e=React.findDOMNode(this.refs.videoContainer),t=React.findDOMNode(this.refs.canvasContainer),o=t.getContext("2d"),i=this._videoHeight,n=this.props.videoWidth;if(n&&i){t.width=n,t.height=i,o.drawImage(e,0,0,n,i);var r=t.toDataURL("image/png"),a=CKEDITOR.dom.element.createFromHtml('<img src="'+r+'">'),s=this.props.editor.get("nativeEditor");s.insertElement(a),this.props.cancelExclusive(),s.fire("actionPerformed",this),s.fire("imageCameraAdd",a)}},_handleStreamError:function(e){window.alert("An error occurred! "+e)},_handleStreamSuccess:function(e){var t=React.findDOMNode(this.refs.videoContainer),o=React.findDOMNode(this.refs.canvasContainer);t.addEventListener("canplay",function(e){var i=t.videoHeight/(t.videoWidth/this.props.videoWidth);isNaN(i)&&(i=this.props.videoWidth/(4/3)),t.setAttribute("width",this.props.videoWidth),t.setAttribute("height",i),o.setAttribute("width",this.props.videoWidth),o.setAttribute("height",i),this._videoHeight=i}.bind(this),!1),this._stream=e,navigator.mozGetUserMedia?t.mozSrcObject=e:t.src=(window.URL||window.webkitURL).createObjectURL(e),t.play(),React.findDOMNode(this.refs.buttonTakePhoto).disabled=!1}});AlloyEditor.ButtonCameraImage=e}(),function(){"use strict";var e=React.createClass({displayName:"ButtonCamera",propTypes:{editor:React.PropTypes.object.isRequired,label:React.PropTypes.string,tabIndex:React.PropTypes.number},statics:{key:"camera"},getDefaultProps:function(){return{label:AlloyEditor.Strings.camera}},render:function(){if(this.props.renderExclusive)return React.createElement(AlloyEditor.ButtonCameraImage,React.__spread({},this.props));var t=!(navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia);return React.createElement("button",{"aria-label":this.props.label,className:"alloy-editor-button","data-type":"button-image-camera",disabled:t,onClick:this.props.requestExclusive.bind(e.key),tabIndex:this.props.tabIndex,title:this.props.label},React.createElement("span",{className:"alloy-editor-icon-camera"}))}});AlloyEditor.Buttons[e.key]=AlloyEditor.ButtonCamera=e}(),function(){"use strict";var e=React.createClass({displayName:"ButtonCode",mixins:[AlloyEditor.ButtonStyle,AlloyEditor.ButtonStateClasses,AlloyEditor.ButtonActionStyle],propTypes:{editor:React.PropTypes.object.isRequired,label:React.PropTypes.string,tabIndex:React.PropTypes.number},statics:{key:"code"},getDefaultProps:function(){return{label:AlloyEditor.Strings.code,style:{element:"pre"}}},render:function(){var e="alloy-editor-button "+this.getStateClasses();return React.createElement("button",{"aria-label":this.props.label,"aria-pressed":-1!==e.indexOf("pressed"),className:e,"data-type":"button-code",onClick:this.applyStyle,tabIndex:this.props.tabIndex,title:this.props.label},React.createElement("span",{className:"alloy-editor-icon-code"}))}});AlloyEditor.Buttons[e.key]=AlloyEditor.ButtonCode=e}(),function(){"use strict";var e=React.createClass({displayName:"ButtonCommandListItem",mixins:[AlloyEditor.ButtonCommand],propTypes:{description:React.PropTypes.string.isRequired,icon:React.PropTypes.string},statics:{key:"buttonCommandListItem"},render:function(){return React.createElement("button",{"aria-label":this.props.description,className:this._getClassName(),onClick:this.execCommand,tabIndex:this.props.tabIndex},this.props.description)},_getClassName:function(){var e="alloy-editor-toolbar-element";return this.props.icon&&(e+=" alloy-editor-icon-"+this.props.icon),e}});AlloyEditor.ButtonCommandListItem=e}(),function(){"use strict";var e=React.createClass({displayName:"ButtonCommandsList",mixins:[AlloyEditor.WidgetFocusManager],propTypes:{commands:React.PropTypes.arrayOf(React.PropTypes.object),editor:React.PropTypes.object.isRequired,listId:React.PropTypes.string},statics:{key:"buttonCommandsList"},componentDidMount:function(){React.findDOMNode(this).focus()},getDefaultProps:function(){return{circular:!1,descendants:".alloy-editor-toolbar-element",keys:{dismiss:[27],dismissNext:[39],dismissPrev:[37],next:[40],prev:[38]}}},render:function(){return React.createElement("div",{className:"alloy-editor-dropdown",onFocus:this.focus,onKeyDown:this.handleKey,tabIndex:"0"},React.createElement("ul",{className:"alloy-editor-listbox",id:this.props.listId,role:"listbox"},this._renderActions(this.props.commands)))},_renderActions:function(e){var t,o=this.props.editor;return e&&e.length&&(t=e.map(function(e){return React.createElement("li",{key:e.command,role:"option"},React.createElement(AlloyEditor.ButtonCommandListItem,{command:e.command,description:e.label,editor:o}))})),t}});AlloyEditor.ButtonCommandsList=e}(),function(){"use strict";var e=React.createClass({displayName:"ButtonH1",mixins:[AlloyEditor.ButtonStyle,AlloyEditor.ButtonStateClasses,AlloyEditor.ButtonActionStyle],propTypes:{editor:React.PropTypes.object.isRequired,label:React.PropTypes.string,tabIndex:React.PropTypes.number},statics:{key:"h1"},getDefaultProps:function(){return{label:AlloyEditor.Strings.h1,style:{element:"h1"}}},render:function(){var e="alloy-editor-button "+this.getStateClasses();return React.createElement("button",{"aria-label":this.props.label,"aria-pressed":-1!==e.indexOf("pressed"),className:e,"data-type":"button-h1",onClick:this.applyStyle,tabIndex:this.props.tabIndex,title:this.props.label},React.createElement("span",{className:"alloy-editor-icon-h1"}))}});AlloyEditor.Buttons[e.key]=AlloyEditor.ButtonH1=e}(),function(){"use strict";var e=React.createClass({displayName:"ButtonH2",mixins:[AlloyEditor.ButtonStyle,AlloyEditor.ButtonStateClasses,AlloyEditor.ButtonActionStyle],propTypes:{editor:React.PropTypes.object.isRequired,label:React.PropTypes.string,tabIndex:React.PropTypes.number},statics:{key:"h2"},getDefaultProps:function(){return{label:AlloyEditor.Strings.h2,style:{element:"h2"}}},render:function(){var e="alloy-editor-button "+this.getStateClasses();return React.createElement("button",{"aria-label":this.props.label,"aria-pressed":-1!==e.indexOf("pressed"),className:e,"data-type":"button-h2",onClick:this.applyStyle,tabIndex:this.props.tabIndex,title:this.props.label},React.createElement("span",{className:"alloy-editor-icon-h2"}))}});AlloyEditor.Buttons[e.key]=AlloyEditor.ButtonH2=e}(),function(){"use strict";var e=React.createClass({displayName:"ButtonHline",mixins:[AlloyEditor.ButtonStyle,AlloyEditor.ButtonCommand],propTypes:{editor:React.PropTypes.object.isRequired,label:React.PropTypes.string,tabIndex:React.PropTypes.number},statics:{key:"hline"},getDefaultProps:function(){return{command:"horizontalrule",label:AlloyEditor.Strings.horizontalrule,style:{element:"hr"}}},render:function(){return React.createElement("button",{"aria-label":this.props.label,className:"alloy-editor-button","data-type":"button-hline",onClick:this.execCommand,tabIndex:this.props.tabIndex,title:this.props.label},React.createElement("span",{className:"alloy-editor-icon-separator"}))}});AlloyEditor.Buttons[e.key]=AlloyEditor.ButtonHline=e}(),function(){"use strict";var e=React.createClass({displayName:"ButtonImageAlignLeft",mixins:[AlloyEditor.ButtonStyle,AlloyEditor.ButtonStateClasses,AlloyEditor.ButtonActionStyle],propTypes:{editor:React.PropTypes.object.isRequired,label:React.PropTypes.string,tabIndex:React.PropTypes.number},statics:{key:"imageLeft"},getDefaultProps:function(){return{label:AlloyEditor.Strings.alignLeft,style:{element:"img",styles:{"float":"left"}}}},render:function(){var e="alloy-editor-button "+this.getStateClasses();return React.createElement("button",{"aria-label":this.props.label,"aria-pressed":-1!==e.indexOf("pressed"),className:e,"data-type":"button-image-align-left",onClick:this.applyStyle,tabIndex:this.props.tabIndex,title:this.props.label},React.createElement("span",{className:"alloy-editor-icon-align-left"}))}});AlloyEditor.Buttons[e.key]=AlloyEditor.ButtonImageAlignLeft=e}(),function(){"use strict";var e=React.createClass({displayName:"ButtonImageAlignRight",mixins:[AlloyEditor.ButtonStyle,AlloyEditor.ButtonStateClasses,AlloyEditor.ButtonActionStyle],propTypes:{editor:React.PropTypes.object.isRequired,label:React.PropTypes.string,tabIndex:React.PropTypes.number},statics:{key:"imageRight"},getDefaultProps:function(){return{label:AlloyEditor.Strings.alignRight,style:{element:"img",styles:{"float":"right"}}}},render:function(){var e="alloy-editor-button "+this.getStateClasses();return React.createElement("button",{"aria-label":this.props.label,"aria-pressed":-1!==e.indexOf("pressed"),className:e,"data-type":"button-image-align-right",onClick:this.applyStyle,tabIndex:this.props.tabIndex,title:this.props.label},React.createElement("span",{className:"alloy-editor-icon-align-right"}))}});AlloyEditor.Buttons[e.key]=AlloyEditor.ButtonImageAlignRight=e}(),function(){"use strict";var e=React.createClass({displayName:"ButtonImage",propTypes:{editor:React.PropTypes.object.isRequired,label:React.PropTypes.string,tabIndex:React.PropTypes.number},statics:{key:"image"},getDefaultProps:function(){return{label:AlloyEditor.Strings.image}},render:function(){var e={display:"none"};return React.createElement("div",null,React.createElement("button",{"aria-label":this.props.label,className:"alloy-editor-button","data-type":"button-image",onClick:this.handleClick,tabIndex:this.props.tabIndex,title:this.props.label},React.createElement("span",{className:"alloy-editor-icon-image"})),React.createElement("input",{onChange:this._onInputChange,ref:"fileInput",style:e,type:"file"}))},handleClick:function(e){CKEDITOR.tools.simulate(React.findDOMNode(this.refs.fileInput),"click")},_onInputChange:function(){var e=new FileReader,t=React.findDOMNode(this.refs.fileInput);e.onload=function(e){var o=this.props.editor.get("nativeEditor"),i=CKEDITOR.dom.element.createFromHtml('<img src="'+e.target.result+'">');o.insertElement(i),o.fire("actionPerformed",this);var n={el:i,file:t.files[0]};o.fire("imageAdd",n)}.bind(this),e.readAsDataURL(t.files[0]),t.value=""}});AlloyEditor.Buttons[e.key]=AlloyEditor.ButtonImage=e}(),function(){"use strict";var e=React.createClass({displayName:"ButtonItalic",mixins:[AlloyEditor.ButtonStyle,AlloyEditor.ButtonStateClasses,AlloyEditor.ButtonCommand],propTypes:{editor:React.PropTypes.object.isRequired,label:React.PropTypes.string,tabIndex:React.PropTypes.number},statics:{key:"italic"},getDefaultProps:function(){return{command:"italic",label:AlloyEditor.Strings.italic,style:{element:"em"}}},render:function(){var e="alloy-editor-button "+this.getStateClasses();return React.createElement("button",{"aria-label":this.props.label,"aria-pressed":-1!==e.indexOf("pressed"),className:e,"data-type":"button-italic",onClick:this.execCommand,tabIndex:this.props.tabIndex,title:this.props.label},React.createElement("span",{className:"alloy-editor-icon-italic"}))}});AlloyEditor.Buttons[e.key]=AlloyEditor.ButtonItalic=e}(),function(){"use strict";var e=13,t=27,o=React.createClass({displayName:"ButtonLinkEdit",statics:{key:"linkEdit"},componentDidMount:function(){window.requestAnimationFrame?window.requestAnimationFrame(this._focusLinkInput):setTimeout(this._focusLinkInput,0)},getDefaultProps:function(){return{labels:{clear:AlloyEditor.Strings.clearInput,confirm:AlloyEditor.Strings.confirm,editLink:AlloyEditor.Strings.editLink,remove:AlloyEditor.Strings.removeLink}}},getInitialState:function(){var e=new CKEDITOR.Link(this.props.editor.get("nativeEditor")).getFromSelection(),t=e?e.getAttribute("href"):"";return{element:e,linkHref:t}},render:function(){var e={opacity:this.state.linkHref?1:0};return React.createElement("div",{className:"alloy-editor-container-edit-link"},React.createElement("button",{"aria-label":this.props.labels.remove,className:"alloy-editor-button",disabled:!this.state.element,onClick:this._removeLink,title:this.props.labels.remove},React.createElement("span",{className:"alloy-editor-icon-unlink"})),React.createElement("div",{className:"alloy-editor-container-input"},React.createElement("input",{className:"alloy-editor-input",onChange:this._handleLinkChange,onKeyDown:this._handleKeyDown,placeholder:this.props.labels.editLink,ref:"linkInput",type:"text",value:this.state.linkHref}),React.createElement("button",{"aria-label":this.props.labels.clear,className:"alloy-editor-button alloy-editor-icon-remove",onClick:this._clearLink,style:e,title:this.props.labels.clear})),React.createElement("button",{"aria-label":this.props.labels.confirm,className:"alloy-editor-button",disabled:!this.state.linkHref,onClick:this._updateLink,title:this.props.labels.confirm},React.createElement("span",{className:"alloy-editor-icon-ok"})))},_clearLink:function(){this.setState({linkHref:""})},_focusLinkInput:function(){React.findDOMNode(this.refs.linkInput).focus()},_handleKeyDown:function(o){(o.keyCode===e||o.keyCode===t)&&o.preventDefault(),o.keyCode===e?this._updateLink():o.keyCode===t&&(this.props.cancelExclusive(),this.props.editor.get("nativeEditor").focus())},_handleLinkChange:function(e){this.setState({linkHref:e.target.value})},_removeLink:function(){var e=this.props.editor.get("nativeEditor"),t=new CKEDITOR.Link(e),o=e.getSelection(),i=o.createBookmarks();t.remove(this.state.element),o.selectBookmarks(i),this.props.cancelExclusive(),e.fire("actionPerformed",this)},_updateLink:function(){var e=this.props.editor.get("nativeEditor"),t=new CKEDITOR.Link(e);this.state.linkHref&&(this.state.element?t.update(this.state.linkHref,this.state.element):t.create(this.state.linkHref),e.fire("actionPerformed",this)),this.props.cancelExclusive()}});AlloyEditor.Buttons[o.key]=AlloyEditor.ButtonLinkEdit=o}(),function(){"use strict";var e=React.createClass({displayName:"ButtonLink",mixins:[AlloyEditor.ButtonStateClasses],propTypes:{editor:React.PropTypes.object.isRequired,label:React.PropTypes.string,tabIndex:React.PropTypes.number},statics:{key:"link"},getDefaultProps:function(){return{label:AlloyEditor.Strings.link}},isActive:function(){return null!==new CKEDITOR.Link(this.props.editor.get("nativeEditor")).getFromSelection()},render:function(){var t="alloy-editor-button "+this.getStateClasses();return this.props.renderExclusive?React.createElement(AlloyEditor.ButtonLinkEdit,React.__spread({},this.props)):React.createElement("button",{"aria-label":this.props.label,className:t,"data-type":"button-link",onClick:this.props.requestExclusive.bind(e.key),tabIndex:this.props.tabIndex,title:this.props.label},React.createElement("span",{className:"alloy-editor-icon-link"}))}});AlloyEditor.Buttons[e.key]=AlloyEditor.ButtonLink=e}(),function(){"use strict";var e=React.createClass({displayName:"ButtonOrderedList",mixins:[AlloyEditor.ButtonStyle,AlloyEditor.ButtonStateClasses,AlloyEditor.ButtonCommand],propTypes:{editor:React.PropTypes.object.isRequired,label:React.PropTypes.string,tabIndex:React.PropTypes.number},statics:{key:"ol"},getDefaultProps:function(){return{command:"numberedlist",label:AlloyEditor.Strings.numberedlist,style:{element:"ol"}}},render:function(){var e="alloy-editor-button "+this.getStateClasses();return React.createElement("button",{"aria-label":this.props.label,"aria-pressed":-1!==e.indexOf("pressed"),className:e,"data-type":"button-ol",onClick:this.execCommand,tabIndex:this.props.tabIndex,title:this.props.label},React.createElement("span",{className:"alloy-editor-icon-numbered-list"}))}});AlloyEditor.Buttons[e.key]=AlloyEditor.ButtonOrderedList=e}(),function(){"use strict";var e=React.createClass({displayName:"ButtonParagraphAlignLeft",mixins:[AlloyEditor.ButtonStyle,AlloyEditor.ButtonStateClasses,AlloyEditor.ButtonActionStyle],propTypes:{editor:React.PropTypes.object.isRequired,label:React.PropTypes.string,tabIndex:React.PropTypes.number},statics:{key:"paragraphLeft"},getDefaultProps:function(){return{label:AlloyEditor.Strings.alignLeft,style:{element:"p",styles:{"text-align":"left"}}}},render:function(){var e="alloy-editor-button "+this.getStateClasses();return React.createElement("button",{"aria-label":this.props.label,"aria-pressed":-1!==e.indexOf("pressed"),className:e,"data-type":"button-paragraph-align-left",onClick:this.applyStyle,tabIndex:this.props.tabIndex,title:this.props.label},React.createElement("span",{className:"alloy-editor-icon-align-left"}))}});AlloyEditor.Buttons[e.key]=AlloyEditor.ButtonParagraphAlignLeft=e}(),function(){"use strict";var e=React.createClass({displayName:"ButtonParagraphAlignRight",mixins:[AlloyEditor.ButtonStyle,AlloyEditor.ButtonStateClasses,AlloyEditor.ButtonActionStyle],propTypes:{editor:React.PropTypes.object.isRequired,label:React.PropTypes.string,tabIndex:React.PropTypes.number},statics:{key:"paragraphRight"},getDefaultProps:function(){return{label:AlloyEditor.Strings.alignRight,style:{element:"p",styles:{"text-align":"right"}}}},render:function(){var e="alloy-editor-button "+this.getStateClasses();return React.createElement("button",{"aria-label":this.props.label,"aria-pressed":-1!==e.indexOf("pressed"),className:e,"data-type":"button-paragraph-align-right",onClick:this.applyStyle,tabIndex:this.props.tabIndex,title:this.props.label},React.createElement("span",{className:"alloy-editor-icon-align-right"}))}});AlloyEditor.Buttons[e.key]=AlloyEditor.ButtonParagraphAlignRight=e}(),function(){"use strict";var e=React.createClass({displayName:"ButtonParagraphCenter",mixins:[AlloyEditor.ButtonStyle,AlloyEditor.ButtonStateClasses,AlloyEditor.ButtonActionStyle],propTypes:{editor:React.PropTypes.object.isRequired,label:React.PropTypes.string,tabIndex:React.PropTypes.number},statics:{key:"paragraphCenter"},getDefaultProps:function(){return{label:AlloyEditor.Strings.alignCenter,style:{element:"p",styles:{"text-align":"center"}}}},render:function(){var e="alloy-editor-button "+this.getStateClasses();return React.createElement("button",{"aria-label":this.props.label,"aria-pressed":-1!==e.indexOf("pressed"),className:e,"data-type":"button-paragraph-center",onClick:this.applyStyle,tabIndex:this.props.tabIndex,title:this.props.label},React.createElement("span",{className:"alloy-editor-icon-align-center"}))}});AlloyEditor.Buttons[e.key]=AlloyEditor.ButtonParagraphCenter=e}(),function(){"use strict";var e=React.createClass({displayName:"ButtonParagraphJustify",mixins:[AlloyEditor.ButtonStyle,AlloyEditor.ButtonStateClasses,AlloyEditor.ButtonActionStyle],propTypes:{editor:React.PropTypes.object.isRequired,label:React.PropTypes.string,tabIndex:React.PropTypes.number},statics:{key:"paragraphJustify"},getDefaultProps:function(){return{label:AlloyEditor.Strings.alignJustify,style:{element:"p",styles:{"text-align":"justify"}}}},render:function(){var e="alloy-editor-button "+this.getStateClasses();return React.createElement("button",{"aria-label":this.props.label,"aria-pressed":-1!==e.indexOf("pressed"),className:e,"data-type":"button-paragraph-justify",onClick:this.applyStyle,tabIndex:this.props.tabIndex,title:this.props.label},React.createElement("span",{className:"alloy-editor-icon-align-justified"}))}});AlloyEditor.Buttons[e.key]=AlloyEditor.ButtonParagraphJustify=e}(),function(){"use strict";var e=React.createClass({displayName:"ButtonQuote",mixins:[AlloyEditor.ButtonStyle,AlloyEditor.ButtonStateClasses,AlloyEditor.ButtonCommand],propTypes:{editor:React.PropTypes.object.isRequired,label:React.PropTypes.string,tabIndex:React.PropTypes.number},statics:{key:"quote"},getDefaultProps:function(){return{command:"blockquote",label:AlloyEditor.Strings.quote,style:{element:"blockquote"}}},render:function(){var e="alloy-editor-button "+this.getStateClasses();return React.createElement("button",{"aria-label":this.props.label,"aria-pressed":-1!==e.indexOf("pressed"),className:e,"data-type":"button-quote",onClick:this.execCommand,tabIndex:this.props.tabIndex,title:this.props.label},React.createElement("span",{className:"alloy-editor-icon-quote"}))}});AlloyEditor.Buttons[e.key]=AlloyEditor.ButtonQuote=e}(),function(){"use strict";var e=React.createClass({displayName:"ButtonRemoveFormat",mixins:[AlloyEditor.ButtonCommand],propTypes:{editor:React.PropTypes.object.isRequired,label:React.PropTypes.string,tabIndex:React.PropTypes.number},statics:{key:"removeFormat"},getDefaultProps:function(){return{command:"removeFormat",label:AlloyEditor.Strings.removeformat}},render:function(){return React.createElement("button",{"aria-label":this.props.label,className:"alloy-editor-button","data-type":"button-removeformat",onClick:this.execCommand,tabIndex:this.props.tabIndex,title:this.props.label},React.createElement("span",{className:"alloy-editor-icon-removeformat"}))}});AlloyEditor.Buttons[e.key]=AlloyEditor.ButtonRemoveFormat=e}(),function(){"use strict";var e=React.createClass({displayName:"ButtonStrike",mixins:[AlloyEditor.ButtonStyle,AlloyEditor.ButtonStateClasses,AlloyEditor.ButtonCommand],propTypes:{editor:React.PropTypes.object.isRequired,label:React.PropTypes.string,
tabIndex:React.PropTypes.number},statics:{key:"strike"},getDefaultProps:function(){return{command:"strike",label:AlloyEditor.Strings.strike,style:{element:"s"}}},render:function(){var e="alloy-editor-button "+this.getStateClasses();return React.createElement("button",{"aria-label":this.props.label,"aria-pressed":-1!==e.indexOf("pressed"),className:e,"data-type":"button-strike",onClick:this.execCommand,tabIndex:this.props.tabIndex,title:this.props.label},React.createElement("span",{className:"alloy-editor-icon-strike"}))}});AlloyEditor.Buttons[e.key]=AlloyEditor.ButtonStrike=e}(),function(){"use strict";var e=React.createClass({displayName:"ButtonsStylesListHeader",render:function(){return this.props.styles&&this.props.styles.length?React.createElement("span",{className:"alloy-editor-list-header"},this.props.name):null}});AlloyEditor.ButtonsStylesListHeader=e}(),function(){"use strict";var e=React.createClass({displayName:"ButtonStylesListItemRemove",propTypes:{editor:React.PropTypes.object.isRequired,label:React.PropTypes.string,removeBlocks:React.PropTypes.array,tabIndex:React.PropTypes.number},statics:{key:"buttonStylesListItemRemove"},getDefaultProps:function(){return{label:AlloyEditor.Strings.normal,removeBlocks:["h1","h2","h3","h4","h5","h6","pre"]}},render:function(){return React.createElement("li",{role:"option"},React.createElement("button",{className:"alloy-editor-toolbar-element",onClick:this._removeStyles,tabIndex:this.props.tabIndex},this.props.label))},_removeStyles:function(){var e=this.props.editor.get("nativeEditor");e.execCommand("removeFormat"),this.props.removeBlocks.forEach(function(t){var o=new CKEDITOR.style({element:t});e.removeStyle(o)}),e.fire("actionPerformed",this)}});AlloyEditor.ButtonStylesListItemRemove=e}(),function(){"use strict";var e=React.createClass({displayName:"ButtonStylesListItem",mixins:[AlloyEditor.ButtonStyle,AlloyEditor.ButtonActionStyle],statics:{key:"buttonStylesListItem"},componentWillMount:function(){var e={element:"span",styles:{margin:0}};e=CKEDITOR.tools.merge(e,this.props.style),this._preview=new CKEDITOR.style(e).buildPreview(this.props.name)},render:function(){return React.createElement("button",{className:"alloy-editor-toolbar-element",dangerouslySetInnerHTML:{__html:this._preview},onClick:this._onClick,tabIndex:this.props.tabIndex})},_onClick:function(){this.props.editor.get("nativeEditor").execCommand("removeFormat"),this.applyStyle()}});AlloyEditor.ButtonStylesListItem=e}(),function(){"use strict";var e=React.createClass({displayName:"ButtonStylesList",mixins:[AlloyEditor.WidgetFocusManager],statics:{key:"buttonStylesList"},componentDidMount:function(){React.findDOMNode(this).focus()},componentWillMount:function(){var e=[],t=[],o=[];this.props.styles.forEach(function(i){var n=new CKEDITOR.style(i.style);n.type===CKEDITOR.STYLE_BLOCK?e.push(i):n.type===CKEDITOR.STYLE_INLINE?t.push(i):n.type===CKEDITOR.STYLE_OBJECT&&o.push(i)}),this._blockStyles=e,this._inlineStyles=t,this._objectStyles=o},getDefaultProps:function(){return{circular:!1,descendants:".alloy-editor-toolbar-element",labels:{blockStyles:AlloyEditor.Strings.blockStyles,inlineStyles:AlloyEditor.Strings.inlineStyles,objectStyles:AlloyEditor.Strings.objectStyles},keys:{dismiss:[27],dismissNext:[39],dismissPrev:[37],next:[40],prev:[38]}}},render:function(){return React.createElement("div",{className:"alloy-editor-dropdown",onFocus:this.focus,onKeyDown:this.handleKey,tabIndex:"0"},React.createElement("ul",{className:"alloy-editor-listbox",role:"listbox"},React.createElement(AlloyEditor.ButtonStylesListItemRemove,{editor:this.props.editor}),React.createElement(AlloyEditor.ButtonsStylesListHeader,{name:this.props.labels.blockStyles,styles:this._blockStyles}),this._renderStylesItems(this._blockStyles),React.createElement(AlloyEditor.ButtonsStylesListHeader,{name:this.props.labels.inlineStyles,styles:this._inlineStyles}),this._renderStylesItems(this._inlineStyles),React.createElement(AlloyEditor.ButtonsStylesListHeader,{name:this.props.labels.objectStyles,styles:this._objectStyles}),this._renderStylesItems(this._objectStyles)))},_renderStylesItems:function(e){var t,o=this.props.editor;return e&&e.length&&(t=e.map(function(e){return React.createElement("li",{key:e.name,role:"option"},React.createElement(AlloyEditor.ButtonStylesListItem,{editor:o,name:e.name,style:e.style}))})),t}});AlloyEditor.ButtonStylesList=e}(),function(){"use strict";var e=React.createClass({displayName:"ButtonStyles",propTypes:{editor:React.PropTypes.object.isRequired,expanded:React.PropTypes.bool,label:React.PropTypes.string,styles:React.PropTypes.arrayOf(React.PropTypes.object),tabIndex:React.PropTypes.number,toggleDropdown:React.PropTypes.func},statics:{key:"styles"},getDefaultProps:function(){return{label:AlloyEditor.Strings.styles,styles:[{name:AlloyEditor.Strings.h1,style:{element:"h1"}},{name:AlloyEditor.Strings.h2,style:{element:"h2"}},{name:AlloyEditor.Strings.formatted,style:{element:"pre"}},{name:AlloyEditor.Strings.cite,style:{element:"cite"}},{name:AlloyEditor.Strings.code,style:{element:"code"}}]}},render:function(){var e=AlloyEditor.Strings.normal;this.props.styles.forEach(function(t){this._checkActive(t.style)&&(e=t.name)}.bind(this));var t;return this.props.expanded&&(t=React.createElement(AlloyEditor.ButtonStylesList,{editor:this.props.editor,onDismiss:this.props.toggleDropdown,styles:this.props.styles})),React.createElement("div",{className:"alloy-editor-container-styles alloy-editor-has-dropdown"},React.createElement("button",{"aria-expanded":this.props.expanded,"aria-label":this.props.label+" "+e,className:"alloy-editor-toolbar-element",onClick:this.props.toggleDropdown,role:"combobox",tabIndex:this.props.tabIndex,title:this.props.label+" "+e},React.createElement("div",{className:"alloy-editor-container"},React.createElement("span",{className:"alloy-editor-selected-style"},e),React.createElement("span",{className:"alloy-editor-icon-arrow"}))),t)},_checkActive:function(e){var t=this.props.editor.get("nativeEditor");e=CKEDITOR.tools.merge({element:"span"},e);var o=new CKEDITOR.style(e);return o.checkActive(t.elementPath(),t)}});AlloyEditor.Buttons[e.key]=AlloyEditor.ButtonStyles=e}(),function(){"use strict";var e=React.createClass({displayName:"ButtonSubscript",mixins:[AlloyEditor.ButtonStyle,AlloyEditor.ButtonStateClasses,AlloyEditor.ButtonCommand],propTypes:{editor:React.PropTypes.object.isRequired,label:React.PropTypes.string,tabIndex:React.PropTypes.number},statics:{key:"subscript"},getDefaultProps:function(){return{command:"subscript",label:AlloyEditor.Strings.subscript,style:{element:"sub"}}},render:function(){var e="alloy-editor-button "+this.getStateClasses();return React.createElement("button",{"aria-label":this.props.label,"aria-pressed":-1!==e.indexOf("pressed"),className:e,"data-type":"button-subscript",onClick:this.execCommand,tabIndex:this.props.tabIndex,title:this.props.label},React.createElement("span",{className:"alloy-editor-icon-subscript"}))}});AlloyEditor.Buttons[e.key]=AlloyEditor.ButtonSubscript=e}(),function(){"use strict";var e=React.createClass({displayName:"ButtonSuperscript",mixins:[AlloyEditor.ButtonStyle,AlloyEditor.ButtonStateClasses,AlloyEditor.ButtonCommand],propTypes:{editor:React.PropTypes.object.isRequired,label:React.PropTypes.string,tabIndex:React.PropTypes.number},statics:{key:"superscript"},getDefaultProps:function(){return{command:"superscript",label:AlloyEditor.Strings.superscript,style:{element:"sup"}}},render:function(){var e="alloy-editor-button "+this.getStateClasses();return React.createElement("button",{"aria-label":this.props.label,"aria-pressed":-1!==e.indexOf("pressed"),className:e,"data-type":"button-superscript",onClick:this.execCommand,tabIndex:this.props.tabIndex,title:this.props.label},React.createElement("span",{className:"alloy-editor-icon-superscript"}))}});AlloyEditor.Buttons[e.key]=AlloyEditor.ButtonSuperscript=e}(),function(){"use strict";var e=React.createClass({displayName:"ButtonTableCell",propTypes:{commands:React.PropTypes.arrayOf(React.PropTypes.object),editor:React.PropTypes.object.isRequired,expanded:React.PropTypes.bool,label:React.PropTypes.string,tabIndex:React.PropTypes.number,toggleDropdown:React.PropTypes.func},statics:{key:"tableCell"},getDefaultProps:function(){return{commands:[{command:"cellInsertBefore",label:AlloyEditor.Strings.cellInsertBefore},{command:"cellInsertAfter",label:AlloyEditor.Strings.cellInsertAfter},{command:"cellDelete",label:AlloyEditor.Strings.cellDelete},{command:"cellMerge",label:AlloyEditor.Strings.cellMerge},{command:"cellMergeDown",label:AlloyEditor.Strings.cellMergeDown},{command:"cellMergeRight",label:AlloyEditor.Strings.cellMergeRight},{command:"cellHorizontalSplit",label:AlloyEditor.Strings.cellSplitHorizontal},{command:"cellVerticalSplit",label:AlloyEditor.Strings.cellSplitVertical}],label:AlloyEditor.Strings.cell}},render:function(){var t,o;return this.props.expanded&&(o=e.key+"List",t=React.createElement(AlloyEditor.ButtonCommandsList,{commands:this.props.commands,editor:this.props.editor,listId:o,onDismiss:this.props.toggleDropdown})),React.createElement("div",{className:"alloy-editor-container alloy-editor-has-dropdown"},React.createElement("button",{"aria-expanded":this.props.expanded,"aria-label":this.props.label,"aria-owns":o,className:"alloy-editor-button",onClick:this.props.toggleDropdown,tabIndex:this.props.tabIndex,title:this.props.label},React.createElement("span",{className:"alloy-editor-icon-cell"})),t)}});AlloyEditor.Buttons[e.key]=AlloyEditor.ButtonTableCell=e}(),function(){"use strict";var e=React.createClass({displayName:"ButtonTableColumn",propTypes:{commands:React.PropTypes.arrayOf(React.PropTypes.object),editor:React.PropTypes.object.isRequired,expanded:React.PropTypes.bool,label:React.PropTypes.string,tabIndex:React.PropTypes.number,toggleDropdown:React.PropTypes.func},statics:{key:"tableColumn"},getDefaultProps:function(){return{commands:[{command:"columnInsertBefore",label:AlloyEditor.Strings.columnInsertBefore},{command:"columnInsertAfter",label:AlloyEditor.Strings.columnInsertAfter},{command:"columnDelete",label:AlloyEditor.Strings.columnDelete}],label:AlloyEditor.Strings.column}},render:function(){var t,o;return this.props.expanded&&(o=e.key+"List",t=React.createElement(AlloyEditor.ButtonCommandsList,{commands:this.props.commands,editor:this.props.editor,listId:o,onDismiss:this.props.toggleDropdown})),React.createElement("div",{className:"alloy-editor-container alloy-editor-has-dropdown"},React.createElement("button",{"aria-expanded":this.props.expanded,"aria-label":this.props.label,"aria-owns":o,className:"alloy-editor-button",onClick:this.props.toggleDropdown,role:"listbox",tabIndex:this.props.tabIndex,title:this.props.label},React.createElement("span",{className:"alloy-editor-icon-column"})),t)}});AlloyEditor.Buttons[e.key]=AlloyEditor.ButtonTableColumn=e}(),function(){"use strict";var e=13,t=27,o=React.createClass({displayName:"ButtonTableEdit",propTypes:{cancelExclusive:React.PropTypes.func.isRequired,editor:React.PropTypes.object.isRequired},statics:{key:"tableEdit"},getDefaultProps:function(){return{tableAttributes:{border:1,cellPadding:0,cellSpacing:0,style:"width: 100%"}}},componentDidMount:function(){React.findDOMNode(this.refs.rows).focus()},getInitialState:function(){return{cols:3,rows:3}},_createTable:function(){var e=this.props.editor.get("nativeEditor"),t=new CKEDITOR.Table(e);t.create({attrs:this.props.tableAttributes,cols:this.state.cols,rows:this.state.rows}),this.props.cancelExclusive(),e.fire("actionPerformed",this)},_handleChange:function(e,t){var o={};o[e]=t.target.value,this.setState(o)},_handleKeyDown:function(o){(o.keyCode===e||o.keyCode===t)&&o.preventDefault(),o.keyCode===e?this._createTable():o.keyCode===t&&this.props.cancelExclusive()},render:function(){var e=Date.now(),t=e+"rows",o=e+"cols";return React.createElement("div",{className:"alloy-editor-container-edit-table"},React.createElement("label",{htmlFor:t},"Rows"),React.createElement("div",{className:"alloy-editor-container-input small"},React.createElement("input",{className:"alloy-editor-input",id:t,onChange:this._handleChange.bind(this,"rows"),min:"1",onKeyDown:this._handleKeyDown,placeholder:"Rows",ref:"rows",type:"number",value:this.state.rows})),React.createElement("label",{htmlFor:o},"Cols"),React.createElement("div",{className:"alloy-editor-container-input small"},React.createElement("input",{className:"alloy-editor-input",id:o,onChange:this._handleChange.bind(this,"cols"),min:"1",onKeyDown:this._handleKeyDown,placeholder:"Colums",ref:"cols",type:"number",value:this.state.cols})),React.createElement("button",{"aria-label":"Confirm",className:"alloy-editor-button",onClick:this._createTable},React.createElement("span",{className:"alloy-editor-icon-ok"})))}});AlloyEditor.Buttons[o.key]=AlloyEditor.ButtonTableEdit=o}(),function(){"use strict";var e=React.createClass({displayName:"ButtonTableRemove",propTypes:{editor:React.PropTypes.object.isRequired,label:React.PropTypes.string,tabIndex:React.PropTypes.number},statics:{key:"tableRemove"},getDefaultProps:function(){return{label:AlloyEditor.Strings.deleteTable}},render:function(){return React.createElement("button",{"aria-label":this.props.label,className:"alloy-editor-button","data-type":"button-table-remove",onClick:this._removeTable,tabIndex:this.props.tabIndex,title:this.props.label},React.createElement("span",{className:"alloy-editor-icon-close"}))},_removeTable:function(){var e=this.props.editor.get("nativeEditor"),t=new CKEDITOR.Table(e);t.remove(),e.fire("actionPerformed",this)}});AlloyEditor.Buttons[e.key]=AlloyEditor.ButtonTableRemove=e}(),function(){"use strict";var e=React.createClass({displayName:"ButtonTableRow",propTypes:{commands:React.PropTypes.arrayOf(React.PropTypes.object),editor:React.PropTypes.object.isRequired,expanded:React.PropTypes.bool,label:React.PropTypes.string,tabIndex:React.PropTypes.number,toggleDropdown:React.PropTypes.func},statics:{key:"tableRow"},getDefaultProps:function(){return{commands:[{command:"rowInsertBefore",label:AlloyEditor.Strings.rowInsertBefore},{command:"rowInsertAfter",label:AlloyEditor.Strings.rowInsertAfter},{command:"rowDelete",label:AlloyEditor.Strings.rowDelete}],label:AlloyEditor.Strings.row}},render:function(){var t,o;return this.props.expanded&&(o=e.key+"List",t=React.createElement(AlloyEditor.ButtonCommandsList,{commands:this.props.commands,editor:this.props.editor,listId:o,onDismiss:this.props.toggleDropdown})),React.createElement("div",{className:"alloy-editor-container alloy-editor-has-dropdown"},React.createElement("button",{"aria-expanded":this.props.expanded,"aria-label":this.props.label,"aria-owns":o,className:"alloy-editor-button",onClick:this.props.toggleDropdown,role:"combobox",tabIndex:this.props.tabIndex,title:this.props.label},React.createElement("span",{className:"alloy-editor-icon-row"})),t)}});AlloyEditor.Buttons[e.key]=AlloyEditor.ButtonTableRow=e}(),function(){"use strict";var e=React.createClass({displayName:"ButtonTable",propTypes:{editor:React.PropTypes.object.isRequired,label:React.PropTypes.string,tabIndex:React.PropTypes.number},statics:{key:"table"},getDefaultProps:function(){return{label:AlloyEditor.Strings.table}},render:function(){return this.props.renderExclusive?React.createElement(AlloyEditor.ButtonTableEdit,React.__spread({},this.props)):React.createElement("button",{"aria-label":this.props.label,className:"alloy-editor-button","data-type":"button-table",onClick:this.props.requestExclusive,tabIndex:this.props.tabIndex,title:this.props.label},React.createElement("span",{className:"alloy-editor-icon-table"}))}});AlloyEditor.Buttons[e.key]=AlloyEditor.ButtonTable=e}(),function(){"use strict";var e=React.createClass({displayName:"ButtonTwitter",mixins:[AlloyEditor.ButtonStateClasses],propTypes:{editor:React.PropTypes.object.isRequired,label:React.PropTypes.string,tabIndex:React.PropTypes.number},statics:{key:"twitter"},getDefaultProps:function(){return{label:AlloyEditor.Strings.twitter}},handleClick:function(){var e=this.props.editor.get("nativeEditor"),t=new CKEDITOR.Link(e);this.isActive()?t.remove(t.getFromSelection()):t.create(this._getHref(),{"class":"alloy-editor-twitter-link",target:"_blank"}),e.fire("actionPerformed",this)},isActive:function(){var e=new CKEDITOR.Link(this.props.editor.get("nativeEditor")).getFromSelection();return e&&-1!==e.getAttribute("href").indexOf("twitter.com/intent/tweet")},render:function(){var e="alloy-editor-button "+this.getStateClasses();return React.createElement("button",{"aria-label":this.props.label,className:e,"data-type":"button-twitter",onClick:this.handleClick,tabIndex:this.props.tabIndex,title:this.props.label},React.createElement("span",{className:"alloy-editor-icon-twitter"}))},_getHref:function(){var e=this.props.editor.get("nativeEditor"),t=e.getSelection().getSelectedText(),o=this.props.url,i=this.props.via,n="https://twitter.com/intent/tweet?text="+t;return o&&(n+="&url="+o),i&&(n+="&via="+i),n}});AlloyEditor.Buttons[e.key]=AlloyEditor.ButtonTwitter=e}(),function(){"use strict";var e=React.createClass({displayName:"ButtonUnorderedlist",mixins:[AlloyEditor.ButtonStyle,AlloyEditor.ButtonStateClasses,AlloyEditor.ButtonCommand],propTypes:{editor:React.PropTypes.object.isRequired,label:React.PropTypes.string,tabIndex:React.PropTypes.number},statics:{key:"ul"},getDefaultProps:function(){return{command:"bulletedlist",label:AlloyEditor.Strings.bulletedlist,style:{element:"ul"}}},render:function(){var e="alloy-editor-button "+this.getStateClasses();return React.createElement("button",{"aria-label":this.props.label,"aria-pressed":-1!==e.indexOf("pressed"),className:e,"data-type":"button-ul",onClick:this.execCommand,tabIndex:this.props.tabIndex,title:this.props.label},React.createElement("span",{className:"alloy-editor-icon-bulleted-list"}))}});AlloyEditor.Buttons[e.key]=AlloyEditor.ButtonUnorderedlist=e}(),function(){"use strict";var e=React.createClass({displayName:"ButtonUnderline",mixins:[AlloyEditor.ButtonStyle,AlloyEditor.ButtonStateClasses,AlloyEditor.ButtonCommand],propTypes:{editor:React.PropTypes.object.isRequired,label:React.PropTypes.string,tabIndex:React.PropTypes.number},statics:{key:"underline"},getDefaultProps:function(){return{command:"underline",label:AlloyEditor.Strings.underline,style:{element:"u"}}},render:function(){var e="alloy-editor-button "+this.getStateClasses();return React.createElement("button",{"aria-label":this.props.label,"aria-pressed":-1!==e.indexOf("pressed"),className:e,"data-type":"button-underline",onClick:this.execCommand,tabIndex:this.props.tabIndex,title:this.props.label},React.createElement("span",{className:"alloy-editor-icon-underline"}))}});AlloyEditor.Buttons[e.key]=AlloyEditor.ButtonUnderline=e}(),function(){"use strict";var e=React.createClass({displayName:"ToolbarAdd",mixins:[AlloyEditor.WidgetDropdown,AlloyEditor.WidgetExclusive,AlloyEditor.WidgetFocusManager,AlloyEditor.ToolbarButtons,AlloyEditor.WidgetPosition,AlloyEditor.WidgetArrowBox],propTypes:{config:React.PropTypes.object,editor:React.PropTypes.object.isRequired,gutterExclusive:React.PropTypes.object,label:React.PropTypes.string,selectionData:React.PropTypes.object},statics:{key:"add"},getDefaultProps:function(){return{circular:!0,descendants:".alloy-editor-button",gutterExclusive:{left:10,top:0},keys:{dismiss:[27],next:[39,40],prev:[37,38]},label:AlloyEditor.Strings.add}},componentDidMount:function(){this._updatePosition()},componentDidUpdate:function(e,t){this._updatePosition(),this.props.renderExclusive&&this.focus()},render:function(){var e=this._getButtons(),t=this._getToolbarClassName();return React.createElement("div",{"aria-label":this.props.label,className:t,"data-tabindex":this.props.config.tabIndex||0,onFocus:this.focus,onKeyDown:this.handleKey,role:"toolbar",tabIndex:"-1"},React.createElement("div",{className:"alloy-editor-container"},e))},_getButtons:function(){var t;return this.props.renderExclusive?t=this.getToolbarButtons(this.props.config.buttons):this.props.selectionData&&this.props.selectionData.region&&(t=React.createElement("button",{"aria-label":this.props.label,className:"alloy-editor-button alloy-editor-button-add",onClick:this.props.requestExclusive.bind(this,e.key),title:this.props.label},React.createElement("span",{className:"alloy-editor-icon-add"}))),t},_getToolbarClassName:function(){var e="alloy-editor-toolbar-add";return this.props.renderExclusive&&(e="alloy-editor-toolbar "+this.getArrowBoxClasses()),e},_updatePosition:function(){var e;if(this.props.renderExclusive)this.updatePosition(),this.show();else if(this.props.selectionData&&(e=this.props.selectionData.region),e){var t=React.findDOMNode(this),o=new CKEDITOR.dom.element(t),i=e.startRect||e,n=this.props.editor.get("nativeEditor").editable().getClientRect().left;t.style.left=n-t.offsetWidth-this.props.gutterExclusive.left+"px",t.style.top=e.top-t.offsetHeight/2+i.height/2+"px",t.style.opacity=1,o.removeClass("alloy-editor-arrow-box"),this.cancelAnimation()}}});AlloyEditor.Toolbars[e.key]=AlloyEditor.ToolbarAdd=e}(),function(){"use strict";var e=React.createClass({displayName:"ToolbarStyles",mixins:[AlloyEditor.WidgetDropdown,AlloyEditor.WidgetExclusive,AlloyEditor.WidgetFocusManager,AlloyEditor.ToolbarButtons,AlloyEditor.WidgetPosition,AlloyEditor.WidgetArrowBox],propTypes:{config:React.PropTypes.object,editor:React.PropTypes.object.isRequired,label:React.PropTypes.string,selectionData:React.PropTypes.object},statics:{key:"styles"},componentDidMount:function(){this._updatePosition()},componentDidUpdate:function(e,t){this._updatePosition()},getDefaultProps:function(){return{circular:!0,descendants:".alloy-editor-button, .alloy-editor-toolbar-element",keys:{dismiss:[27],next:[39,40],prev:[37,38]},label:AlloyEditor.Strings.styles}},render:function(){var e=this._getCurrentSelection();if(e){var t,o=this._getSelectionFunction(e.getArrowBoxClasses);t=o?o():this.getArrowBoxClasses();var i="alloy-editor-toolbar-styles "+t,n=this.getToolbarButtons(e.buttons,{selectionType:e.name});return React.createElement("div",{"aria-label":this.props.label,className:i,"data-tabindex":this.props.config.tabIndex||0,onFocus:this.focus,onKeyDown:this.handleKey,role:"toolbar",tabIndex:"-1"},React.createElement("div",{className:"alloy-editor-container"},n))}return!1},_getSelectionFunction:function(e){var t,o=AlloyEditor.Lang;if(o.isFunction(e))t=e;else if(o.isString(e)){for(var i=e.split("."),n=window,r=i.shift();r&&o.isObject(n)&&o.isObject(n[r]);)n=n[r],r=i.shift();o.isFunction(n)&&(t=n)}return t},_getCurrentSelection:function(){var e,t=this.props.editorEvent?this.props.editorEvent.data:null;return t&&this.props.config.selections.some(function(o){var i,n=this._getSelectionFunction(o.test);return n&&(i=n({data:t,editor:this.props.editor})),i&&(e=o),i},this),e},_updatePosition:function(){var e,t=this._getCurrentSelection();if(t){var o=this._getSelectionFunction(t.setPosition);o&&(e=o.call(this,{editor:this.props.editor,editorEvent:this.props.editorEvent,selectionData:this.props.selectionData}))}e||(this.updatePosition(),this.show())}});AlloyEditor.Toolbars[e.key]=AlloyEditor.ToolbarStyles=e}(),function(){"use strict";var e=React.createClass({displayName:"UI",mixins:[AlloyEditor.WidgetExclusive,AlloyEditor.WidgetFocusManager],propTypes:{ariaUpdates:React.PropTypes.object,editor:React.PropTypes.object.isRequired,eventsDelay:React.PropTypes.number,toolbars:React.PropTypes.object.isRequired},getInitialState:function(){return{hidden:!1}},getDefaultProps:function(){return{ariaUpdates:{noToolbar:AlloyEditor.Strings.ariaUpdateNoToolbar,oneToolbar:AlloyEditor.Strings.ariaUpdateOneToolbar,manyToolbars:AlloyEditor.Strings.ariaUpdateManyToolbars},circular:!0,descendants:"[class*=alloy-editor-toolbar-]",eventsDelay:0,keys:{next:9}}},componentDidMount:function(){var e=this.props.editor.get("nativeEditor");e.on("editorInteraction",this._onEditorInteraction,this),e.on("actionPerformed",this._onActionPerformed,this),e.on("key",this._onEditorKey,this),this._clickListener=function(e){this._setUIHidden(e.target)}.bind(this),this._keyDownListener=CKEDITOR.tools.debounce(function(e){this._setUIHidden(document.activeElement)},this.props.eventsDelay,this),e.once("contentDom",function(){document.addEventListener("click",this._clickListener),document.addEventListener("keydown",this._keyDownListener)}.bind(this))},componentDidUpdate:function(e,t){var o=React.findDOMNode(this);o&&this.props.editor.get("nativeEditor").fire("ariaUpdate",{message:this._getAvailableToolbarsMessage(o)})},_getAriaUpdateTemplate:function(e){return this._ariaUpdateTemplates||(this._ariaUpdateTemplates={}),this._ariaUpdateTemplates[e]||(this._ariaUpdateTemplates[e]=new CKEDITOR.template(this.props.ariaUpdates[e])),this._ariaUpdateTemplates[e]},_getAvailableToolbarsMessage:function(e){var t=e.querySelectorAll('[role="toolbar"]');if(t.length){var o=Array.prototype.slice.call(t).map(function(e){return e.getAttribute("aria-label")}),i=1===o.length?"oneToolbar":"manyToolbars";return this._getAriaUpdateTemplate(i).output({toolbars:o.join(",").replace(/,([^,]*)$/," and $1")})}return this.props.ariaUpdates.noToolbar},componentWillUnmount:function(){this._clickListener&&document.removeEventListener("click",this._clickListener),this._keyDownListener&&(this._keyDownListener.detach(),document.removeEventListener("keydown",this._keyDownListener))},render:function(){if(this.state.hidden)return null;var e=Object.keys(this.props.toolbars).map(function(e){return AlloyEditor.Toolbars[e]||window[e]});return e=this.filterExclusive(e).map(function(e){var t=this.mergeExclusiveProps({config:this.props.toolbars[e.key],editor:this.props.editor,editorEvent:this.state.editorEvent,key:e.key,onDismiss:this._onDismissToolbarFocus,selectionData:this.state.selectionData},e.key);return React.createElement(e,t)}.bind(this)),React.createElement("div",{className:"alloy-editor-toolbars",onKeyDown:this.handleKey},e)},_onActionPerformed:function(e){var t=this.props.editor.get("nativeEditor");t.focus(),this.setState({itemExclusive:null,selectionData:t.getSelectionData()})},_onDismissToolbarFocus:function(){var e=this.props.editor.get("nativeEditor");e.focus()},_onEditorInteraction:function(e){this.setState({editorEvent:e,hidden:!1,itemExclusive:null,selectionData:e.data.selectionData})},_onEditorKey:function(e){var t=e.data.domEvent.$;t.altKey&&121===t.keyCode&&this.focus()},_setUIHidden:function(e){var t=React.findDOMNode(this);if(t){var o=this.props.editor.get("nativeEditor").editable(),i=new CKEDITOR.dom.node(e),n=o.$===e||o.contains(i)||new CKEDITOR.dom.element(t).contains(i);n||this.setState({hidden:!0})}}});AlloyEditor.UI=e}()}window.AlloyEditor||(CKEDITOR.once("resourcesLoaded",e),function(){"use strict";CKEDITOR.tools.debounce=CKEDITOR.tools.debounce||function(e,t,o,i){var n,r=function(){var r=o||this;clearTimeout(n);for(var a=[],s=arguments.length,l=0;s>l;++l)a.push(arguments[l]);var c=a.concat(i||[]);n=setTimeout(function(){e.apply(r,c)},t)};return r.detach=function(){clearTimeout(n)},r}}(),function(){"use strict";function e(e){this._editor=e}var t=/^(?:[a-z][a-z0-9+\-.]*)\:|^\//i;e.prototype={constructor:e,create:function(e,t){var o=this._editor.getSelection(),i=o.getRanges()[0];if(i.collapsed){var n=new CKEDITOR.dom.text(e,this._editor.document);i.insertNode(n),i.selectNodeContents(n)}e=this._getCompleteURI(e);var r=CKEDITOR.tools.merge({"data-cke-saved-href":e,href:e},t),a=new CKEDITOR.style({attributes:r,element:"a"});a.type=CKEDITOR.STYLE_INLINE,a.applyToRange(i,this._editor),i.select()},getFromSelection:function(){var e=this._editor.getSelection(),t=e.getSelectedElement();if(t&&t.is("a"))return t;var o=e.getRanges()[0];return o?(o.shrink(CKEDITOR.SHRINK_TEXT),this._editor.elementPath(o.getCommonAncestor()).contains("a",1)):null},remove:function(e){var t=this._editor;if(e)e.remove(t);else{var o=e||new CKEDITOR.style({alwaysRemoveElement:1,element:"a",type:CKEDITOR.STYLE_INLINE}),i=t.getSelection();i.selectElement(i.getStartElement()),t.removeStyle(o)}},update:function(e,t){var o=t||this.getFromSelection();o.setAttributes({"data-cke-saved-href":e,href:e})},_getCompleteURI:function(e){return t.test(e)||(e="http://"+e),e}},CKEDITOR.Link=CKEDITOR.Link||e}(),function(){"use strict";function e(){}CKEDITOR.plugins.get("selectionregion")||(CKEDITOR.SELECTION_TOP_TO_BOTTOM=0,CKEDITOR.SELECTION_BOTTOM_TO_TOP=1,CKEDITOR.SELECTION_LEFT_TO_RIGHT=2,CKEDITOR.SELECTION_RIGHT_TO_LEFT=3,e.prototype={constructor:e,createSelectionFromPoint:function(e,t){this.createSelectionFromRange(e,t,e,t)},createSelectionFromRange:function(e,t,o,i){var n,r,a,s,l,c,d;if("function"==typeof document.caretPositionFromPoint?(l=document.caretPositionFromPoint(e,t),n=document.caretPositionFromPoint(o,i),c=l.offsetNode,r=n.offsetNode,d=l.offset,a=n.offset,s=this.createRange()):"function"==typeof document.caretRangeFromPoint&&(l=document.caretRangeFromPoint(e,t),n=document.caretRangeFromPoint(o,i),c=l.startContainer,r=n.startContainer,d=l.startOffset,a=n.startOffset,s=this.createRange()),s&&document.getSelection)s.setStart(new CKEDITOR.dom.node(c),d),s.setEnd(new CKEDITOR.dom.node(r),a),this.getSelection().selectRanges([s]);else if("function"==typeof document.body.createTextRange){var u=this.getSelection();u.unlock(),s=document.body.createTextRange(),s.moveToPoint(e,t);var p=s.duplicate();p.moveToPoint(o,i),s.setEndPoint("EndToEnd",p),s.select(),this.getSelection().lock()}},getCaretRegion:function(){var e=this.getSelection(),t=e.createBookmarks(),o=t[0].startNode.$;o.style.display="inline-block";var i=new CKEDITOR.dom.element(o).getClientRect();o.parentNode.removeChild(o);var n=new CKEDITOR.dom.window(window).getScrollPosition();return{bottom:n.y+i.bottom,left:n.x+i.left,right:n.x+i.right,top:n.y+i.top}},getSelectionData:function(){var e=this.getSelection(),t={element:e.getSelectedElement(),text:e.getSelectedText()};return t.region=this.getSelectionRegion(e),t},getSelectionRegion:function(){var e=this.getClientRectsRegion();return e.direction=this.getSelectionDirection(),e.height=e.bottom-e.top,e.width=e.right-e.left,e},isSelectionEmpty:function(){var e,t=this.getSelection();return t.getType()===CKEDITOR.SELECTION_NONE||(e=t.getRanges())&&1===e.length&&e[0].collapsed},getClientRectsRegion:function(){var e,t,o=this.getSelection(),i=o.getNative();if(i.createRange){var n=i.createRange();t=n.getClientRects()}else e=i.rangeCount,t=i.rangeCount>0?i.getRangeAt(0).getClientRects():[];var r,a=0,s=1/0,l=-(1/0),c=1/0;if(0===t.length)r=this.getCaretRegion();else{for(var d=0,u=t.length;u>d;d++){var p=t[d];p.left<s&&(s=p.left),p.right>l&&(l=p.right),p.top<c&&(c=p.top),p.bottom>a&&(a=p.bottom)}var m=new CKEDITOR.dom.window(window).getScrollPosition();if(r={bottom:m.y+a,left:m.x+s,right:m.x+l,top:m.y+c},t.length){var h=t[t.length-1],y=t[0];r.endRect={bottom:m.y+h.bottom,height:h.height,left:m.x+h.left,right:m.x+h.right,top:m.y+h.top,width:h.width},r.startRect={bottom:m.y+y.bottom,height:y.height,left:m.x+y.left,right:m.x+y.right,top:m.y+y.top,width:y.width}}}return r},getSelectionDirection:function(){var e,t=this.getSelection(),o=t.getNative(),i=CKEDITOR.SELECTION_TOP_TO_BOTTOM;if((e=o.anchorNode)&&e.compareDocumentPosition){var n=e.compareDocumentPosition(o.focusNode);(!n&&o.anchorOffset>o.focusOffset||n===Node.DOCUMENT_POSITION_PRECEDING)&&(i=CKEDITOR.SELECTION_BOTTOM_TO_TOP)}return i}},CKEDITOR.plugins.add("selectionregion",{init:function(t){var o,i;i=Object.prototype.hasOwnProperty;for(o in e.prototype)i.call(e.prototype,o)&&"undefined"==typeof t[o]&&(t[o]=e.prototype[o])}}))}(),function(){"use strict";function e(e){this._editor=e}e.prototype={constructor:e,create:function(e){for(var t=this._editor,o=this._createElement("table"),i=o.append(this._createElement("tbody")),n=e.rows||1,r=e.cols||1,a=0;n>a;a++)for(var s=i.append(this._createElement("tr")),l=0;r>l;l++){var c=s.append(this._createElement("td"));c.appendBogus()}o.getAttribute("style")||o.removeAttribute("style"),
this.setAttributes(o,e.attrs),t.insertElement(o);var d=new CKEDITOR.dom.element(o.$.rows[0].cells[0]),u=t.createRange();return u.moveToPosition(d,CKEDITOR.POSITION_AFTER_START),u.select(),o},getFromSelection:function(){var e,t=this._editor.getSelection(),o=t.getSelectedElement();if(o&&o.is("table"))e=o;else{var i=t.getRanges();i.length>0&&(CKEDITOR.env.webkit&&i[0].shrink(CKEDITOR.NODE_ELEMENT),e=this._editor.elementPath(i[0].getCommonAncestor(!0)).contains("table",1))}return e},remove:function(e){var t=this._editor;if(e)e.remove(t);else if(e=t.elementPath().contains("table",1)){var o=e.getParent(),i=t.editable();1!=o.getChildCount()||o.is("td","th")||o.equals(i)||(e=o);var n=t.createRange();n.moveToPosition(e,CKEDITOR.POSITION_BEFORE_START),e.remove(),n.select()}},setAttributes:function(e,t){Object.keys(t).forEach(function(o){e.setAttribute(o,t[o])})},_createElement:function(e){return new CKEDITOR.dom.element(e,this._editor.document)}},CKEDITOR.Table=CKEDITOR.Table||e}(),function(){"use strict";CKEDITOR.tools.merge=CKEDITOR.tools.merge||function(){for(var e={},t=0;t<arguments.length;++t){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},CKEDITOR.tools.simulate=function(e,t){var o=document.createEvent("Events");o.initEvent(t,!0,!1),e.dispatchEvent(o)}}(),function(){"use strict";CKEDITOR.plugins.get("uicore")||CKEDITOR.plugins.add("uicore",{init:function(e){var t=[],o=this._createAriaElement(e.id),i=e.config.uicore?e.config.uicore.timeout:50,n=CKEDITOR.tools.debounce(function(e){o.innerHTML=t.join(". ")},i),r=CKEDITOR.tools.debounce(function(o){t=[],("keyup"!==o.name||27!==o.data.$.keyCode||e.config.allowEsc)&&e.fire("editorInteraction",{nativeEvent:o.data.$,selectionData:e.getSelectionData()})},i);e.on("ariaUpdate",function(e){t.push(e.data.message),n()}),e.on("contentDom",function(){var t=e.editable();t.attachListener(t,"mouseup",r),t.attachListener(t,"keyup",r)}),e.on("destroy",function(e){o.parentNode.removeChild(o),r.detach()})},_createAriaElement:function(e){var t=document.createElement("div");return t.className="alloy-editor-sr-only",t.setAttribute("aria-live","polite"),t.setAttribute("role","status"),t.setAttribute("id",e+"LiveRegion"),document.body.appendChild(t),t}})}(),function(){"use strict";if(!CKEDITOR.plugins.get("autolink")){/MSIE ([^;]*)|Trident.*; rv:([0-9.]+)/.test(navigator.userAgent)&&document.execCommand("AutoUrlDetect",!1,!1);var e=8,t=188,o=13,i=186,n=32,r=[t,o,i,n],a=/[^\s]+/gm,s=/(https?\:\/\/|www\.)(-\.)?([^\s/?\.#-]+\.?)+(\/[^\s]*)?$/i;CKEDITOR.plugins.add("autolink",{init:function(e){e.once("contentDom",function(){var t=e.editable();t.attachListener(t,"keyup",this._onKeyUp,this,{editor:e})}.bind(this))},_getLastWord:function(e){var t=e.getSelection().getRanges()[0],i=t.startOffset,n="";if(this._currentKeyCode===o){var r,s=t.startContainer.getPrevious();if(s){for(;!s.getLast;)s=s.getPrevious();for(r=s.getLast();r&&!r.getText();)r=r.getPrevious()}r&&r.$.href||(this._startContainer=r,n=r?r.getText():"",this._offset=n.length)}else this._startContainer=t.startContainer,n=this._startContainer.getText().substring(0,i-1),this._offset=i-1;var l="",c=n.match(a);return c&&(l=c.pop()),l},_isValidURL:function(e){return s.test(e)},_onKeyDown:function(t){var o=t.data.$,i=t.listenerData.editor,n=i.editable();n.removeListener("keydown",this._onKeyDown),o.keyCode===e&&(t.cancel(),t.data.preventDefault(),this._removeLink(i)),this._ckLink=null},_onKeyUp:function(e){var t=e.data.$;if(this._currentKeyCode=t.keyCode,-1!==r.indexOf(this._currentKeyCode)){var o=e.listenerData.editor,i=this._getLastWord(o);this._isValidURL(i)&&this._replaceContentByLink(o,i)}},_replaceContentByLink:function(e,t){var i=e.createRange(),n=CKEDITOR.dom.element.get(this._startContainer),r=this._offset;i.setStart(n,r-t.length),i.setEnd(n,r),i.select();var a=new CKEDITOR.Link(e);if(a.create(t),this._ckLink=a,this._subscribeToKeyEvent(e),i=e.getSelection().getRanges()[0],this._currentKeyCode===o){var s=i.getNextEditableNode();i.setStart(s,0),i.setEnd(s,0)}else{var l=i.getNextNode();i.setStart(l,1),i.setEnd(l,1)}i.select()},_removeLink:function(e){var t=e.getSelection().getRanges()[0],o=t.startOffset,i=this._startContainer.getNext()||this._startContainer,n=e.createRange();n.setStart(i,0),n.setEndAfter(i),n.select(),this._ckLink.remove(),t.setEnd(t.startContainer,o),t.setStart(t.startContainer,o),t.select()},_subscribeToKeyEvent:function(e){var t=e.editable();t.attachListener(t,"keydown",this._onKeyDown,this,{editor:e},1)}})}}(),function(){"use strict";function e(e){function o(){var t=e.getSelection();t&&(t.getType()!==CKEDITOR.SELECTION_NONE&&t.getStartElement().is("img")?i.event&&i.event.button&&0!==i.event.button||a.show(t.getStartElement().$):a.hide())}var i=e.window.$,n=e.document.$,r="undefined"==typeof c?null:c,a=new t(e,{snapToSize:r});n.addEventListener("mousedown",function(e){a.isHandle(e.target)&&a.initDrag(e)},!1),e.on("selectionChange",o),e.on("getData",function(e){var t=e.data.dataValue||"";t=t.replace(/<div id="ckimgrsz"([\s\S]*?)<\/div>/i,""),t=t.replace(/\b(ckimgrsz)\b/g,""),e.data.dataValue=t}),e.on("beforeUndoImage",function(){a.hide()}),e.on("afterUndoImage",function(){o()}),e.on("blur",function(){a.hide()}),e.on("beforeModeUnload",function l(){e.removeListener("beforeModeUnload",l),a.hide()});var s;e.window.on("resize",function(){clearTimeout(s),s=setTimeout(o,50)})}function t(e,t){this.editor=e,this.window=e.window.$,this.document=e.document.$,this.cfg=t||{},this.init()}function o(e,t){this.window=e,this.document=t,this.events={mousemove:n(this.mousemove,this),keydown:n(this.keydown,this),mouseup:n(this.mouseup,this)}}function i(e){for(var t=e.length,o=new Array(t),i=0;t>i;i++)o[i]=e[i];return o}function n(e,t){return e.bind?e.bind(t):function(){e.apply(t,arguments)}}function r(e,t,o){e.style.left=String(t)+"px",e.style.top=String(o)+"px"}function a(e,t,o){e.style.width=String(t)+"px",e.style.height=String(o)+"px"}function s(e,t){var o=t.getBoundingClientRect();return{left:o.left+e.pageXOffset,top:o.top+e.pageYOffset,width:o.width,height:o.height}}var l="dragresize",c=7,d="WebkitAppearance"in document.documentElement.style;d&&CKEDITOR.addCss("img::selection{color:rgba(0,0,0,0)}img.ckimgrsz{outline:1px dashed #000}#ckimgrsz{position:absolute;width:0;height:0;cursor:default;z-index:10001}#ckimgrsz span{display:none;position:absolute;top:0;left:0;width:0;height:0;background-size:100% 100%;opacity:.65;outline:1px dashed #000}#ckimgrsz i{position:absolute;display:block;width:5px;height:5px;background:#fff;border:1px solid #000}#ckimgrsz i.active,#ckimgrsz i:hover{background:#000}#ckimgrsz i.br,#ckimgrsz i.tl{cursor:nwse-resize}#ckimgrsz i.bm,#ckimgrsz i.tm{cursor:ns-resize}#ckimgrsz i.bl,#ckimgrsz i.tr{cursor:nesw-resize}#ckimgrsz i.lm,#ckimgrsz i.rm{cursor:ew-resize}body.dragging-br,body.dragging-br *,body.dragging-tl,body.dragging-tl *{cursor:nwse-resize!important}body.dragging-bm,body.dragging-bm *,body.dragging-tm,body.dragging-tm *{cursor:ns-resize!important}body.dragging-bl,body.dragging-bl *,body.dragging-tr,body.dragging-tr *{cursor:nesw-resize!important}body.dragging-lm,body.dragging-lm *,body.dragging-rm,body.dragging-rm *{cursor:ew-resize!important}"),CKEDITOR.plugins.add(l,{onLoad:function(){},init:function(t){d&&t.on("contentDom",function(o){e(t)})}}),t.prototype={init:function(){var e=this.container=this.document.createElement("div");e.id="ckimgrsz",this.preview=this.document.createElement("span"),e.appendChild(this.preview);var t=this.handles={tl:this.createHandle("tl"),tm:this.createHandle("tm"),tr:this.createHandle("tr"),lm:this.createHandle("lm"),rm:this.createHandle("rm"),bl:this.createHandle("bl"),bm:this.createHandle("bm"),br:this.createHandle("br")};for(var o in t)e.appendChild(t[o])},createHandle:function(e){var t=this.document.createElement("i");return t.classList.add(e),t},isHandle:function(e){var t=this.handles;for(var o in t)if(t[o]===e)return!0;return!1},show:function(e){this.el=e,this.cfg.snapToSize&&(this.otherImages=i(this.document.getElementsByTagName("img")),this.otherImages.splice(this.otherImages.indexOf(e),1));var t=this.box=s(this.window,e);r(this.container,t.left,t.top),this.document.body.appendChild(this.container),this.el.classList.add("ckimgrsz"),this.showHandles()},hide:function(){for(var e=this.document.getElementsByClassName("ckimgrsz"),t=0;t<e.length;++t)e[t].classList.remove("ckimgrsz");this.hideHandles(),this.container.parentNode&&this.container.parentNode.removeChild(this.container)},initDrag:function(e){if(0===e.button){var t=this,i=new o(this.window,this.document);i.onStart=function(){t.showPreview(),t.isDragging=!0,t.editor.getSelection().lock()},i.onDrag=function(){t.calculateSize(this),t.updatePreview();var e=t.previewBox;t.updateHandles(e,e.left,e.top)},i.onRelease=function(){t.isDragging=!1,t.hidePreview(),t.hide(),t.editor.getSelection().unlock(),t.editor.fire("saveSnapshot")},i.onComplete=function(){t.resizeComplete(),t.editor.fire("saveSnapshot")},i.start(e)}},updateHandles:function(e,t,o){t=t||0,o=o||0;var i=this.handles;r(i.tl,-3+t,-3+o),r(i.tm,Math.round(e.width/2)-3+t,-3+o),r(i.tr,e.width-4+t,-3+o),r(i.lm,-3+t,Math.round(e.height/2)-3+o),r(i.rm,e.width-4+t,Math.round(e.height/2)-3+o),r(i.bl,-3+t,e.height-4+o),r(i.bm,Math.round(e.width/2)-3+t,e.height-4+o),r(i.br,e.width-4+t,e.height-4+o)},showHandles:function(){var e=this.handles;this.updateHandles(this.box);for(var t in e)e[t].style.display="block"},hideHandles:function(){var e=this.handles;for(var t in e)e[t].style.display="none"},showPreview:function(){this.preview.style.backgroundImage='url("'+this.el.src+'")',this.calculateSize(),this.updatePreview(),this.preview.style.display="block"},updatePreview:function(){var e=this.previewBox;r(this.preview,e.left,e.top),a(this.preview,e.width,e.height)},hidePreview:function(){var e=s(this.window,this.preview);this.result={width:e.width,height:e.height},this.preview.style.display="none"},calculateSize:function(e){var t=this.previewBox={top:0,left:0,width:this.box.width,height:this.box.height};if(e){var o=e.target.className;if(~o.indexOf("r")&&(t.width=Math.max(32,this.box.width+e.delta.x)),~o.indexOf("b")&&(t.height=Math.max(32,this.box.height+e.delta.y)),~o.indexOf("l")&&(t.width=Math.max(32,this.box.width-e.delta.x)),~o.indexOf("t")&&(t.height=Math.max(32,this.box.height-e.delta.y)),o.indexOf("m")<0&&!e.keys.shift){var i=this.box.width/this.box.height;t.width/t.height>i?t.height=Math.round(t.width/i):t.width=Math.round(t.height*i)}var n=this.cfg.snapToSize;if(n)for(var r=this.otherImages,a=0;a<r.length;a++){var l=s(this.window,r[a]);if(Math.abs(t.width-l.width)<=n&&Math.abs(t.height-l.height)<=n){t.width=l.width,t.height=l.height;break}}~o.indexOf("l")&&(t.left=this.box.width-t.width),~o.indexOf("t")&&(t.top=this.box.height-t.height)}},resizeComplete:function(){a(this.el,this.result.width,this.result.height)}},o.prototype={start:function(e){e.preventDefault(),e.stopPropagation(),this.target=e.target,this.attr=e.target.className,this.startPos={x:e.clientX,y:e.clientY},this.update(e);var t=this.events;this.document.addEventListener("mousemove",t.mousemove,!1),this.document.addEventListener("keydown",t.keydown,!1),this.document.addEventListener("mouseup",t.mouseup,!1),this.document.body.classList.add("dragging-"+this.attr),this.onStart&&this.onStart()},update:function(e){this.currentPos={x:e.clientX,y:e.clientY},this.delta={x:e.clientX-this.startPos.x,y:e.clientY-this.startPos.y},this.keys={shift:e.shiftKey,ctrl:e.ctrlKey,alt:e.altKey}},mousemove:function(e){this.update(e),this.onDrag&&this.onDrag(),0===e.which&&this.mouseup(e)},keydown:function(e){27===e.keyCode&&this.release()},mouseup:function(e){this.update(e),this.release(),this.onComplete&&this.onComplete()},release:function(){this.document.body.classList.remove("dragging-"+this.attr);var e=this.events;this.document.removeEventListener("mousemove",e.mousemove,!1),this.document.removeEventListener("keydown",e.keydown,!1),this.document.removeEventListener("mouseup",e.mouseup,!1),this.onRelease&&this.onRelease()}}}(),function(){"use strict";var e=CKEDITOR.env.ie;CKEDITOR.plugins.get("dropimages")||CKEDITOR.plugins.add("dropimages",{init:function(e){var t;t=e.editable(e.element.$),t.attachListener(t,"dragenter",this._onDragEnter,this,{editor:e}),t.attachListener(t,"dragover",this._onDragOver,this,{editor:e}),t.attachListener(t,"drop",this._onDragDrop,this,{editor:e})},_handleFiles:function(e,t){var o,i,n;for(o=0;o<e.length;o++)n=e[o],i=/image.*/,n.type.match(i)&&this._processFile(n,t);return!1},_onDragEnter:function(t){e&&this._preventEvent(t)},_onDragOver:function(t){e&&this._preventEvent(t)},_onDragDrop:function(e){var t,o;o=e.data.$,new CKEDITOR.dom.event(o).preventDefault(),t=e.listenerData.editor,e.listenerData.editor.createSelectionFromPoint(o.clientX,o.clientY),this._handleFiles(o.dataTransfer.files,t)},_preventEvent:function(e){e=new CKEDITOR.dom.event(e.data.$),e.preventDefault(),e.stopPropagation()},_processFile:function(e,t){var o=new FileReader;o.addEventListener("loadend",function(){var i,n,r;i=o.result,n=CKEDITOR.dom.element.createFromHtml('<img src="'+i+'">'),t.insertElement(n),r={el:n,file:e},t.fire("imageDrop",r)}),o.readAsDataURL(e)}})}(),function(){"use strict";CKEDITOR.plugins.get("placeholder")||CKEDITOR.plugins.add("placeholder",{init:function(e){e.on("blur",this._checkEmptyData,this),e.once("contentDom",this._checkEmptyData,this)},_checkEmptyData:function(e){var t=e.editor;if(""===t.getData()){var o=new CKEDITOR.dom.element(t.element.$);o.setHtml(""),o.addClass(t.config.placeholderClass)}}})}(),function(){function e(e){return CKEDITOR.env.ie?e.$.clientWidth:parseInt(e.getComputedStyle("width"),10)}function t(e,t){var o=e.getComputedStyle("border-"+t+"-width"),i={thin:"0px",medium:"1px",thick:"2px"};return o.indexOf("px")<0&&(o=o in i&&"none"!=e.getComputedStyle("border-style")?i[o]:0),parseInt(o,10)}function o(e){for(var t,o,i,n=e.$.rows,r=0,a=0,s=n.length;s>a;a++)i=n[a],t=i.cells.length,t>r&&(r=t,o=i);return o}function i(e){for(var i=[],n=-1,r="rtl"===e.getComputedStyle("direction"),a=o(e),s=new CKEDITOR.dom.element(e.$.tBodies[0]),l=s.getDocumentPosition(),c=0,d=a.cells.length;d>c;c++){var u=new CKEDITOR.dom.element(a.cells[c]),p=a.cells[c+1]&&new CKEDITOR.dom.element(a.cells[c+1]);n+=u.$.colSpan||1;var m,h,y,g=u.getDocumentPosition().x;r?h=g+t(u,"left"):m=g+u.$.offsetWidth-t(u,"right"),p?(g=p.getDocumentPosition().x,r?m=g+p.$.offsetWidth-t(p,"right"):h=g+t(p,"left")):(g=e.getDocumentPosition().x,r?m=g:h=g+e.$.offsetWidth),y=Math.max(h-m,4),i.push({table:e,index:n,x:m,y:l.y,width:y,height:s.$.offsetHeight,rtl:r})}return i}function n(e,t){for(var o=0,i=e.length;i>o;o++){var n=e[o];if(t>=n.x&&t<=n.x+n.width)return n}return null}function r(e){(e.data||e).preventDefault()}function a(o){function i(){p=null,f=0,y=0,m.removeListener("mouseup",d),h.removeListener("mousedown",c),h.removeListener("mousemove",u),m.getBody().setStyle("cursor","auto")}function n(){for(var t=p.index,o=CKEDITOR.tools.buildTableMap(p.table),i=[],n=[],a=Number.MAX_VALUE,s=a,l=p.rtl,c=0,d=o.length;d>c;c++){var T=o[c],C=T[t+(l?1:0)],A=T[t+(l?0:1)];C=C&&new CKEDITOR.dom.element(C),A=A&&new CKEDITOR.dom.element(A),C&&A&&C.equals(A)||(C&&(a=Math.min(a,e(C))),A&&(s=Math.min(s,e(A))),i.push(C),n.push(A))}b=i,E=n,v=p.x-a,R=p.x+s,h.setOpacity(.5),g=parseInt(h.getStyle("left"),10),f=0,y=1,h.on("mousemove",u),m.on("dragstart",r)}function a(){y=0,h.setOpacity(0),f&&s();var e=p.table;setTimeout(function(){e.removeCustomData("_cke_table_pillars")},0),m.removeListener("dragstart",r)}function s(){for(var o=p.rtl,i=o?E.length:b.length,n=0;i>n;n++){var r=b[n],a=E[n],s=p.table;CKEDITOR.tools.setTimeout(function(e,t,i,n,r,a){e&&e.setStyle("width",l(Math.max(t+a,1))),i&&i.setStyle("width",l(Math.max(n-a,1))),r&&s.setStyle("width",l(r+a*(o?-1:1)))},0,this,[r,r&&e(r),a,a&&e(a),(!r||!a)&&e(s)+t(s,"left")+t(s,"right"),f])}}function c(e){r(e),n(),m.on("mouseup",d,this)}function d(e){e.removeListener(),a()}function u(e){T(e.data.getPageOffset().x)}var p,m,h,y,g,f,b,E,v,R;m=o.document,h=CKEDITOR.dom.element.createFromHtml('<div data-cke-temp=1 contenteditable=false unselectable=on style="position:absolute;cursor:col-resize;filter:alpha(opacity=0);opacity:0;padding:0;background-color:#004;background-image:none;border:0px none;z-index:10"></div>',m),o.on("destroy",function(){h.remove()}),m.getDocumentElement().append(h),this.attachTo=function(e){y||(p=e,h.setStyles({width:l(e.width),height:l(e.height),left:l(e.x),top:l(e.y)}),h.on("mousedown",c,this),m.getBody().setStyle("cursor","col-resize"),h.show())};var T=this.move=function(e){if(!p)return 0;if(!y&&(e<p.x||e>p.x+p.width))return i(),0;var t=e-Math.round(h.$.offsetWidth/2);if(y){if(t===v||t===R)return 1;t=Math.max(t,v),t=Math.min(t,R),f=t-g}return h.setStyle("left",l(t)),1}}function s(e){var t=e.data.getTarget();if("mouseout"===e.name){if(!t.is("table"))return;for(var o=new CKEDITOR.dom.element(e.data.$.relatedTarget||e.data.$.toElement);o&&o.$&&!o.equals(t)&&!o.is("body");)o=o.getParent();if(!o||o.equals(t))return}t.getAscendant("table",1).removeCustomData("_cke_table_pillars"),e.removeListener()}var l=CKEDITOR.tools.cssLength;CKEDITOR.plugins.add("tableresize",{requires:"tabletools",init:function(e){e.on("contentDom",function(){var t,o=e.editable();o.attachListener(o.isInline()?o:e.document,"mousemove",function(o){o=o.data;var l=o.getTarget();if(l.type===CKEDITOR.NODE_ELEMENT){var c=o.getPageOffset().x;if(t&&t.move(c))return void r(o);var d,u;if((l.is("table")||l.getAscendant("tbody",1))&&(d=l.getAscendant("table",1),e.editable().contains(d))){(u=d.getCustomData("_cke_table_pillars"))||(d.setCustomData("_cke_table_pillars",u=i(d)),d.on("mouseout",s),d.on("mousedown",s));var p=n(u,c);p&&(!t&&(t=new a(e)),t.attachTo(p))}}})})}})}(),function(){function e(e){function t(e){i.length>0||e.type==CKEDITOR.NODE_ELEMENT&&f.test(e.getName())&&!e.getCustomData("selected_cell")&&(CKEDITOR.dom.element.setMarker(n,e,"selected_cell",!0),i.push(e))}for(var o=e.getRanges(),i=[],n={},r=0;r<o.length;r++){var a=o[r];if(a.collapsed){var s=a.getCommonAncestor(),l=s.getAscendant("td",!0)||s.getAscendant("th",!0);l&&i.push(l)}else{var c,d=new CKEDITOR.dom.walker(a);for(d.guard=t;c=d.next();)if(c.type!=CKEDITOR.NODE_ELEMENT||!c.is(CKEDITOR.dtd.table)){var u=c.getAscendant("td",!0)||c.getAscendant("th",!0);u&&!u.getCustomData("selected_cell")&&(CKEDITOR.dom.element.setMarker(n,u,"selected_cell",!0),i.push(u))}}}return CKEDITOR.dom.element.clearAllMarkers(n),i}function t(e){for(var t,o,i,n=0,r=e.length-1,a={};t=e[n++];)CKEDITOR.dom.element.setMarker(a,t,"delete_cell",!0);for(n=0;t=e[n++];)if((o=t.getPrevious())&&!o.getCustomData("delete_cell")||(o=t.getNext())&&!o.getCustomData("delete_cell"))return CKEDITOR.dom.element.clearAllMarkers(a),o;return CKEDITOR.dom.element.clearAllMarkers(a),i=e[0].getParent(),(i=i.getPrevious())?i.getLast():(i=e[r].getParent(),(i=i.getNext())?i.getChild(0):null)}function o(t,o){for(var i=e(t),n=i[0],r=n.getAscendant("table"),a=n.getDocument(),s=i[0].getParent(),l=s.$.rowIndex,c=i[i.length-1],d=c.getParent().$.rowIndex+c.$.rowSpan-1,u=new CKEDITOR.dom.element(r.$.rows[d]),p=o?l:d,m=o?s:u,h=CKEDITOR.tools.buildTableMap(r),y=h[p],g=o?h[p-1]:h[p+1],f=h[0].length,b=a.createElement("tr"),E=0;y[E]&&f>E;E++){var v;y[E].rowSpan>1&&g&&y[E]==g[E]?(v=y[E],v.rowSpan+=1):(v=new CKEDITOR.dom.element(y[E]).clone(),v.removeAttribute("rowSpan"),v.appendBogus(),b.append(v),v=v.$),E+=v.colSpan-1}o?b.insertBefore(m):b.insertAfter(m)}function i(t){if(t instanceof CKEDITOR.dom.selection){for(var o=e(t),n=o[0],r=n.getAscendant("table"),a=CKEDITOR.tools.buildTableMap(r),s=o[0].getParent(),l=s.$.rowIndex,c=o[o.length-1],d=c.getParent().$.rowIndex+c.$.rowSpan-1,u=[],p=l;d>=p;p++){for(var m=a[p],h=new CKEDITOR.dom.element(r.$.rows[p]),y=0;y<m.length;y++){var g=new CKEDITOR.dom.element(m[y]),f=g.getParent().$.rowIndex;if(1==g.$.rowSpan)g.remove();else if(g.$.rowSpan-=1,f==p){var b=a[p+1];b[y-1]?g.insertAfter(new CKEDITOR.dom.element(b[y-1])):new CKEDITOR.dom.element(r.$.rows[p+1]).append(g,1)}y+=g.$.colSpan-1}u.push(h)}var E=r.$.rows,v=new CKEDITOR.dom.element(E[d+1]||(l>0?E[l-1]:null)||r.$.parentNode);for(p=u.length;p>=0;p--)i(u[p]);return v}return t instanceof CKEDITOR.dom.element&&(r=t.getAscendant("table"),1==r.$.rows.length?r.remove():t.remove()),null}function n(e,t){for(var o=e.getParent(),i=o.$.cells,n=0,r=0;r<i.length;r++){var a=i[r];if(n+=t?1:a.colSpan,a==e.$)break}return n-1}function r(e,t){for(var o=t?1/0:0,i=0;i<e.length;i++){var r=n(e[i],t);(t?o>r:r>o)&&(o=r)}return o}function a(t,o){for(var i=e(t),n=i[0],a=n.getAscendant("table"),s=r(i,1),l=r(i),c=o?s:l,d=CKEDITOR.tools.buildTableMap(a),u=[],p=[],m=d.length,h=0;m>h;h++){u.push(d[h][c]);var y=o?d[h][c-1]:d[h][c+1];p.push(y)}for(h=0;m>h;h++){var g;u[h]&&(u[h].colSpan>1&&p[h]==u[h]?(g=u[h],g.colSpan+=1):(g=new CKEDITOR.dom.element(u[h]).clone(),g.removeAttribute("colSpan"),g.appendBogus(),g[o?"insertBefore":"insertAfter"].call(g,new CKEDITOR.dom.element(u[h])),g=g.$),h+=g.rowSpan-1)}}function s(t){for(var o,i,n=e(t),r=n[0],a=n[n.length-1],s=r.getAscendant("table"),l=CKEDITOR.tools.buildTableMap(s),c=[],d=0,u=l.length;u>d;d++)for(var p=0,m=l[d].length;m>p;p++)l[d][p]==r.$&&(o=p),l[d][p]==a.$&&(i=p);for(d=o;i>=d;d++)for(p=0;p<l.length;p++){var h=l[p],y=new CKEDITOR.dom.element(s.$.rows[p]),g=new CKEDITOR.dom.element(h[d]);g.$&&(1==g.$.colSpan?g.remove():g.$.colSpan-=1,p+=g.$.rowSpan-1,y.$.cells.length||c.push(y))}var f=s.$.rows[0]&&s.$.rows[0].cells,b=new CKEDITOR.dom.element(f[o]||(o?f[o-1]:s.$.parentNode));return c.length==u&&s.remove(),b}function l(e,t){var o=e.getStartElement(),i=o.getAscendant("td",1)||o.getAscendant("th",1);if(i){var n=i.clone();n.appendBogus(),t?n.insertBefore(i):n.insertAfter(i)}}function c(o){if(o instanceof CKEDITOR.dom.selection){for(var i=e(o),n=i[0]&&i[0].getAscendant("table"),r=t(i),a=i.length-1;a>=0;a--)c(i[a]);r?u(r,!0):n&&n.remove()}else if(o instanceof CKEDITOR.dom.element){var s=o.getParent();1==s.getChildCount()?s.remove():o.remove()}}function d(e){var t=e.getBogus();t&&t.remove(),e.trim()}function u(e,t){var o=e.getDocument(),i=CKEDITOR.document;CKEDITOR.env.ie&&10==CKEDITOR.env.version&&(i.focus(),o.focus());var n=new CKEDITOR.dom.range(o);n["moveToElementEdit"+(t?"End":"Start")](e)||(n.selectNodeContents(e),n.collapse(t?!1:!0)),n.select(!0)}function p(e,t,o){var i=e[t];if("undefined"==typeof o)return i;for(var n=0;i&&n<i.length;n++){if(o.is&&i[n]==o.$)return n;if(n==o)return new CKEDITOR.dom.element(i[n])}return o.is?-1:null}function m(e,t){for(var o=[],i=0;i<e.length;i++){var n=e[i];o.push(n[t]),n[t].rowSpan>1&&(i+=n[t].rowSpan-1)}return o}function h(t,o,i){var n,r=e(t);if((o?1!=r.length:r.length<2)||(n=t.getCommonAncestor())&&n.type==CKEDITOR.NODE_ELEMENT&&n.is("table"))return!1;var a,s=r[0],l=s.getAscendant("table"),c=CKEDITOR.tools.buildTableMap(l),u=c.length,m=c[0].length,h=s.getParent().$.rowIndex,y=p(c,h,s);if(o){var g;try{var f=parseInt(s.getAttribute("rowspan"),10)||1,b=parseInt(s.getAttribute("colspan"),10)||1;g=c["up"==o?h-f:"down"==o?h+f:h]["left"==o?y-b:"right"==o?y+b:y]}catch(E){return!1}if(!g||s.$==g)return!1;r["up"==o||"left"==o?"unshift":"push"](new CKEDITOR.dom.element(g))}for(var v=s.getDocument(),R=h,T=0,C=0,A=!i&&new CKEDITOR.dom.documentFragment(v),I=0,S=0;S<r.length;S++){a=r[S];var D=a.getParent(),w=a.getFirst(),_=a.$.colSpan,O=a.$.rowSpan,x=D.$.rowIndex,k=p(c,x,a);if(I+=_*O,C=Math.max(C,k-y+_),T=Math.max(T,x-h+O),!i){if(d(a),a.getChildren().count()){if(x!=R&&w&&(!w.isBlockBoundary||!w.isBlockBoundary({br:1}))){var P=A.getLast(CKEDITOR.dom.walker.whitespaces(!0));!P||P.is&&P.is("br")||A.append("br")}a.moveChildren(A)}S?a.remove():a.setHtml("")}R=x}if(i)return T*C==I;A.moveChildren(s),s.appendBogus(),C>=m?s.removeAttribute("rowSpan"):s.$.rowSpan=T,T>=u?s.removeAttribute("colSpan"):s.$.colSpan=C;var B=new CKEDITOR.dom.nodeList(l.$.rows),N=B.count();for(S=N-1;S>=0;S--){var K=B.getItem(S);K.$.cells.length||(K.remove(),N++)}return s}function y(t,o){var i=e(t);if(i.length>1)return!1;if(o)return!0;var n,r,a,s,l=i[0],c=l.getParent(),d=c.getAscendant("table"),u=CKEDITOR.tools.buildTableMap(d),m=c.$.rowIndex,h=p(u,m,l),y=l.$.rowSpan;if(y>1){r=Math.ceil(y/2),a=Math.floor(y/2),s=m+r;var g,f=new CKEDITOR.dom.element(d.$.rows[s]),b=p(u,s);n=l.clone();for(var E=0;E<b.length;E++){if(g=b[E],g.parentNode==f.$&&E>h){n.insertBefore(new CKEDITOR.dom.element(g));break}g=null}g||f.append(n)}else{a=r=1,f=c.clone(),f.insertAfter(c),f.append(n=l.clone());for(var v=p(u,m),R=0;R<v.length;R++)v[R].rowSpan++}return n.appendBogus(),l.$.rowSpan=r,n.$.rowSpan=a,1==r&&l.removeAttribute("rowSpan"),1==a&&n.removeAttribute("rowSpan"),n}function g(t,o){var i=e(t);if(i.length>1)return!1;if(o)return!0;var n,r,a,s=i[0],l=s.getParent(),c=l.getAscendant("table"),d=CKEDITOR.tools.buildTableMap(c),u=l.$.rowIndex,h=p(d,u,s),y=s.$.colSpan;if(y>1)r=Math.ceil(y/2),a=Math.floor(y/2);else{a=r=1;for(var g=m(d,h),f=0;f<g.length;f++)g[f].colSpan++}return n=s.clone(),n.insertAfter(s),n.appendBogus(),s.$.colSpan=r,n.$.colSpan=a,1==r&&s.removeAttribute("colSpan"),1==a&&n.removeAttribute("colSpan"),n}if(!CKEDITOR.plugins.tabletools){var f=/^(?:td|th)$/;CKEDITOR.plugins.tabletools={init:function(t){function n(e){return CKEDITOR.tools.extend(e||{},{contextSensitive:1,refresh:function(e,t){this.setState(t.contains({td:1,th:1},1)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})}function r(e,o){var i=t.addCommand(e,o);t.addFeature(i)}var d=t.lang.table;r("cellProperties",new CKEDITOR.dialogCommand("cellProperties",n({allowedContent:"td th{width,height,border-color,background-color,white-space,vertical-align,text-align}[colspan,rowspan]",requiredContent:"table"}))),CKEDITOR.dialog.add("cellProperties",this.path+"dialogs/tableCell.js"),r("rowDelete",n({requiredContent:"table",exec:function(e){var t=e.getSelection();u(i(t))}})),r("rowInsertBefore",n({requiredContent:"table",exec:function(e){var t=e.getSelection();o(t,!0)}})),r("rowInsertAfter",n({requiredContent:"table",exec:function(e){var t=e.getSelection();o(t)}})),r("columnDelete",n({requiredContent:"table",exec:function(e){var t=e.getSelection(),o=s(t);o&&u(o,!0)}})),r("columnInsertBefore",n({requiredContent:"table",exec:function(e){var t=e.getSelection();a(t,!0)}})),r("columnInsertAfter",n({requiredContent:"table",exec:function(e){var t=e.getSelection();a(t)}})),r("cellDelete",n({requiredContent:"table",exec:function(e){var t=e.getSelection();c(t)}})),r("cellMerge",n({allowedContent:"td[colspan,rowspan]",requiredContent:"td[colspan,rowspan]",exec:function(e){u(h(e.getSelection()),!0)}})),r("cellMergeRight",n({allowedContent:"td[colspan]",requiredContent:"td[colspan]",exec:function(e){u(h(e.getSelection(),"right"),!0)}})),r("cellMergeDown",n({allowedContent:"td[rowspan]",requiredContent:"td[rowspan]",exec:function(e){u(h(e.getSelection(),"down"),!0)}})),r("cellVerticalSplit",n({allowedContent:"td[rowspan]",requiredContent:"td[rowspan]",exec:function(e){u(y(e.getSelection()))}})),r("cellHorizontalSplit",n({allowedContent:"td[colspan]",requiredContent:"td[colspan]",exec:function(e){u(g(e.getSelection()))}})),r("cellInsertBefore",n({requiredContent:"table",exec:function(e){var t=e.getSelection();l(t,!0)}})),r("cellInsertAfter",n({requiredContent:"table",exec:function(e){var t=e.getSelection();l(t)}})),t.addMenuItems&&t.addMenuItems({tablecell:{label:d.cell.menu,group:"tablecell",order:1,getItems:function(){var o=t.getSelection(),i=e(o);return{tablecell_insertBefore:CKEDITOR.TRISTATE_OFF,tablecell_insertAfter:CKEDITOR.TRISTATE_OFF,tablecell_delete:CKEDITOR.TRISTATE_OFF,tablecell_merge:h(o,null,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_merge_right:h(o,"right",!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_merge_down:h(o,"down",!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_split_vertical:y(o,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_split_horizontal:g(o,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_properties:i.length>0?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED}}},tablecell_insertBefore:{label:d.cell.insertBefore,group:"tablecell",command:"cellInsertBefore",order:5},tablecell_insertAfter:{label:d.cell.insertAfter,group:"tablecell",command:"cellInsertAfter",order:10},tablecell_delete:{label:d.cell.deleteCell,group:"tablecell",command:"cellDelete",order:15},tablecell_merge:{label:d.cell.merge,group:"tablecell",command:"cellMerge",order:16},tablecell_merge_right:{label:d.cell.mergeRight,group:"tablecell",command:"cellMergeRight",order:17},tablecell_merge_down:{label:d.cell.mergeDown,group:"tablecell",command:"cellMergeDown",order:18},tablecell_split_horizontal:{label:d.cell.splitHorizontal,group:"tablecell",command:"cellHorizontalSplit",order:19},tablecell_split_vertical:{label:d.cell.splitVertical,group:"tablecell",command:"cellVerticalSplit",order:20},tablecell_properties:{label:d.cell.title,group:"tablecellproperties",command:"cellProperties",order:21},tablerow:{label:d.row.menu,group:"tablerow",order:1,getItems:function(){return{tablerow_insertBefore:CKEDITOR.TRISTATE_OFF,tablerow_insertAfter:CKEDITOR.TRISTATE_OFF,tablerow_delete:CKEDITOR.TRISTATE_OFF}}},tablerow_insertBefore:{label:d.row.insertBefore,group:"tablerow",command:"rowInsertBefore",order:5},tablerow_insertAfter:{label:d.row.insertAfter,group:"tablerow",command:"rowInsertAfter",order:10},tablerow_delete:{label:d.row.deleteRow,group:"tablerow",command:"rowDelete",order:15},tablecolumn:{label:d.column.menu,group:"tablecolumn",order:1,getItems:function(){return{tablecolumn_insertBefore:CKEDITOR.TRISTATE_OFF,tablecolumn_insertAfter:CKEDITOR.TRISTATE_OFF,tablecolumn_delete:CKEDITOR.TRISTATE_OFF}}},tablecolumn_insertBefore:{label:d.column.insertBefore,group:"tablecolumn",command:"columnInsertBefore",order:5},tablecolumn_insertAfter:{label:d.column.insertAfter,group:"tablecolumn",command:"columnInsertAfter",order:10},tablecolumn_delete:{label:d.column.deleteColumn,group:"tablecolumn",command:"columnDelete",order:15}}),t.contextMenu&&t.contextMenu.addListener(function(e,t,o){var i=o.contains({td:1,th:1},1);return i&&!i.isReadOnly()?{tablecell:CKEDITOR.TRISTATE_OFF,tablerow:CKEDITOR.TRISTATE_OFF,tablecolumn:CKEDITOR.TRISTATE_OFF}:null})},getSelectedCells:e},CKEDITOR.plugins.add("tabletools",CKEDITOR.plugins.tabletools)}}(),CKEDITOR.tools.buildTableMap=function(e){for(var t=e.$.rows,o=-1,i=[],n=0;n<t.length;n++){o++,!i[o]&&(i[o]=[]);for(var r=-1,a=0;a<t[n].cells.length;a++){var s=t[n].cells[a];for(r++;i[o][r];)r++;for(var l=isNaN(s.colSpan)?1:s.colSpan,c=isNaN(s.rowSpan)?1:s.rowSpan,d=0;c>d;d++){i[o+d]||(i[o+d]=[]);for(var u=0;l>u;u++)i[o+d][r+u]=t[n].cells[a]}r+=l-1}}return i},function(){"use strict";window.AlloyEditor={editable:function(e,t){return t=t||{},t.srcNode=e,new AlloyEditor.Core(t)},Buttons:{},Toolbars:{}}}(),function(){"use strict";var e={isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},isBoolean:function(e){return"boolean"==typeof e},isFunction:function(e){return"function"==typeof e},isNull:function(e){return null===e},isNumber:function(e){return"number"==typeof e&&isFinite(e)},isObject:function(t){var o=typeof t;return t&&("object"===o||e.isFunction(t))},isString:function(e){return"string"==typeof e},mix:function(e,t){var o=Object.prototype.hasOwnProperty;for(var i in t)o.call(t,i)&&(e[i]=t[i])},toInt:function(e){return parseInt(e,10)}};AlloyEditor.Lang=e}(),function(){"use strict";var e={extend:function(e,t,o,i){if(!t||!e)throw"extend failed, verify dependencies";var n=t.prototype,r=Object.create(n);return e.prototype=r,r.constructor=e,e.superclass=n,t!==Object&&n.constructor===Object.prototype.constructor&&(n.constructor=t),o&&AlloyEditor.Lang.mix(r,o),i&&AlloyEditor.Lang.mix(e,i),e}};AlloyEditor.OOP=e}(),function(){"use strict";function e(e){this.__config__=e||{},this.__ATTRS__={}}e.prototype={constructor:e,get:function(e){var t=this.constructor.ATTRS[e];

if(t){this._isInitialized(e)||this._init(e);var o=this.__ATTRS__[e];return t.getter&&(o=this._callStringOrFunction(t.getter,o)),o}},set:function(e,t){var o=this.constructor.ATTRS[e];o&&(this._isInitialized(e)||this._init(e),o.readOnly||o.writeOnce&&this._isInitialized(e)||(!o.validator||this._callStringOrFunction(o.validator,t))&&(o.setter&&(t=this._callStringOrFunction(o.setter,t)),this.__ATTRS__[e]=t))},_callStringOrFunction:function(e,t){var o=null;return AlloyEditor.Lang.isArray(t)||(t=[t]),AlloyEditor.Lang.isString(e)&&AlloyEditor.Lang.isFunction(this[e])?o=this[e].apply(this,t):AlloyEditor.Lang.isFunction(e)&&(o=e.apply(this,t)),o},_init:function(e){var t,o=this.constructor.ATTRS[e],i=Object.prototype.hasOwnProperty.call(o,"value"),n=Object.prototype.hasOwnProperty.call(this.__config__,e);if(o.valueFn)t=this._callStringOrFunction(o.valueFn,t),this.__ATTRS__[e]=t;else if(o.readOnly)t=o.value;else if(o.writeOnce)if(i)t=o.value;else{if(!n)return;t=this.__config__[e]}else n?t=this.__config__[e]:i&&(t=o.value);if(o.validator&&n&&!this._callStringOrFunction(o.validator,t)){if(!i)return;t=o.value}o.setter&&n&&(t=this._callStringOrFunction(o.setter,t)),this.__ATTRS__[e]=t},_isInitialized:function(e){return Object.prototype.hasOwnProperty.call(this.__ATTRS__,e)}},AlloyEditor.Attribute=e}(),function(){"use strict";function e(t){e.superclass.constructor.call(this,t),this.init(t)}AlloyEditor.OOP.extend(e,AlloyEditor.Attribute,{init:function(e){this._callChain("initializer",e)},destroy:function(){this._callChain("destructor")},_callChain:function(e,t){for(var o=[],i=this.constructor;i;)AlloyEditor.Lang.isFunction(i.prototype[e])&&o.push(i.prototype[e]),i=i.superclass?i.superclass.constructor:null;o=o.reverse(),t=AlloyEditor.Lang.isArray(t)?t:[t];for(var n=0;n<o.length;n++){var r=o[n];r.apply(this,t)}}}),AlloyEditor.Base=e}(),function(){"use strict";var e=function(){return"alloy-editor-arrow-box alloy-editor-arrow-box-bottom"};AlloyEditor.SelectionGetArrowBoxClasses={table:e}}(),function(){"use strict";var e=function(e){var t=e.editor.get("nativeEditor"),o=new CKEDITOR.Table(t).getFromSelection(),i=o.getClientRect(),n=this.getDOMNode(),r=n.offsetWidth/2,a=new CKEDITOR.dom.window(window).getScrollPosition(),s=this.getWidgetXYPoint(i.left+i.width/2-a.x,i.top+a.y,CKEDITOR.SELECTION_BOTTOM_TO_TOP);return this.moveToPoint([s[0],s[1]],[i.left+i.width/2-r-a.x,i.top-n.offsetHeight+a.y]),!0};AlloyEditor.SelectionSetPosition={table:e}}(),function(){"use strict";var e=function(e){var t=e.editor.get("nativeEditor");return!t.isSelectionEmpty()&&new CKEDITOR.Link(t).getFromSelection()},t=function(e){var t=e.data.selectionData;return t.element&&"img"===t.element.getName()},o=function(e){var t=e.editor.get("nativeEditor"),o=t.isSelectionEmpty(),i=e.data.selectionData;return!i.element&&i.region&&!o},i=function(e){var t=e.editor.get("nativeEditor");return!!new CKEDITOR.Table(t).getFromSelection()};AlloyEditor.SelectionTest={image:t,link:e,table:i,text:o}}(),function(){"use strict";var e=[{name:"link",buttons:["linkEdit"],test:AlloyEditor.SelectionTest.link},{name:"image",buttons:["imageLeft","imageRight"],test:AlloyEditor.SelectionTest.image},{name:"text",buttons:["styles","bold","italic","underline","link","twitter"],test:AlloyEditor.SelectionTest.text},{name:"table",buttons:["tableRow","tableColumn","tableCell","tableRemove"],getArrowBoxClasses:AlloyEditor.SelectionGetArrowBoxClasses.table,setPosition:AlloyEditor.SelectionSetPosition.table,test:AlloyEditor.SelectionTest.table}];AlloyEditor.Selections=e}(),function(){"use strict";function e(t){e.superclass.constructor.call(this,t)}AlloyEditor.OOP.extend(e,AlloyEditor.Base,{initializer:function(e){var t=this.get("srcNode"),o=CKEDITOR.inline(t);o.config.allowedContent=this.get("allowedContent"),o.config.toolbars=this.get("toolbars"),o.config.removePlugins=this.get("removePlugins"),o.config.extraPlugins=this.get("extraPlugins"),o.config.placeholderClass=this.get("placeholderClass"),o.config.pasteFromWordRemoveStyles=!1,o.config.pasteFromWordRemoveFontStyles=!1,AlloyEditor.Lang.mix(o.config,e),this._editor=o,CKEDITOR.once("resourcesLoaded",this._renderUI.bind(this)),this._loadLanguageFile()},destructor:function(){React.unmountComponentAtNode(this._editorUIElement),this._editorUIElement.parentNode.removeChild(this._editorUIElement);var e=CKEDITOR.instances[this.get("srcNode")];e&&e.destroy()},_getNativeEditor:function(){return this._editor},_loadLanguageFile:function(){var e=function(){CKEDITOR.fire("resourcesLoaded")};if(window.AlloyEditor.Strings)setTimeout(e.bind(this),0);else{var t=["af","ar","bg","bn","bs","ca","cs","cy","da","de","el","en-au","en-ca","en-gb","en","eo","es","et","eu","fa","fi","fo","fr-ca","fr","gl","gu","he","hi","hr","hu","id","is","it","ja","ka","km","ko","ku","lt","lv","mk","mn","ms","nb","nl","no","pl","pt-br","pt","ro","ru","si","sk","sl","sq","sr-latn","sr","sv","th","tr","tt","ug","uk","vi","zh-cn","zh"],o=navigator.language||navigator.userLanguage||"en",i=o.toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/),n=i[1],r=i[2];t[n+"-"+r]?n=n+"-"+r:t.indexOf(n)||(n="en"),CKEDITOR.scriptLoader.load(CKEDITOR.getUrl("lang/alloy-editor/"+n+".js"),e,this)}},_renderUI:function(){var e=document.createElement("div");e.className="alloy-editor-ui";var t=this.get("uiNode")||document.body;AlloyEditor.Lang.isString(t)&&(t=document.getElementById(t)),t.appendChild(e),this._mainUI=React.render(React.createElement(AlloyEditor.UI,{editor:this,eventsDelay:this.get("eventsDelay"),toolbars:this.get("toolbars")}),e),this._editorUIElement=e,this.get("nativeEditor").fire("uiReady")},_validateAllowedContent:function(e){return AlloyEditor.Lang.isString(e)||AlloyEditor.Lang.isObject(e)||AlloyEditor.Lang.isBoolean(e)},_validateToolbars:function(e){return AlloyEditor.Lang.isObject(e)||AlloyEditor.Lang.isNull(e)}},{ATTRS:{allowedContent:{validator:"_validateAllowedContent",value:!0,writeOnce:!0},eventsDelay:{validator:AlloyEditor.Lang.isNumber,value:100},extraPlugins:{validator:AlloyEditor.Lang.isString,value:"uicore,selectionregion,dragresize,dropimages,placeholder,tabletools,tableresize,autolink",writeOnce:!0},nativeEditor:{getter:"_getNativeEditor",readOnly:!0},placeholderClass:{validator:AlloyEditor.Lang.isString,value:"alloy-editor-placeholder",writeOnce:!0},removePlugins:{validator:AlloyEditor.Lang.isString,value:"contextmenu,toolbar,elementspath,resize,liststyle,link",writeOnce:!0},srcNode:{writeOnce:!0},toolbars:{validator:"_validateToolbars",value:{add:{buttons:["image","camera","hline","table"],tabIndex:2},styles:{selections:AlloyEditor.Selections,tabIndex:1}}},uiNode:{writeOnce:!0}}}),AlloyEditor.Core=e}())}();